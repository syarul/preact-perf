{"version":3,"file":null,"sources":["../node_modules/preact/src/vnode.js","../node_modules/preact/src/options.js","../node_modules/preact/src/h.js","../node_modules/preact/src/util.js","../node_modules/preact/src/constants.js","../node_modules/preact/src/linked-state.js","../node_modules/preact/src/render-queue.js","../node_modules/preact/src/vdom/functional-component.js","../node_modules/preact/src/vdom/index.js","../node_modules/preact/src/dom/index.js","../node_modules/preact/src/dom/recycler.js","../node_modules/preact/src/vdom/diff.js","../node_modules/preact/src/vdom/component-recycler.js","../node_modules/preact/src/vdom/component.js","../node_modules/preact/src/component.js","../node_modules/preact/src/render.js","../src/app/util.js","../src/app/model.js","../src/app/footer.js","../src/app/item.js","../src/app/index.js","../src/index.js"],"sourcesContent":["/** Virtual DOM Node */\nexport function VNode(nodeName, attributes, children) {\n\t/** @type {string|function} */\n\tthis.nodeName = nodeName;\n\n\t/** @type {object<string>|undefined} */\n\tthis.attributes = attributes;\n\n\t/** @type {array<VNode>|undefined} */\n\tthis.children = children;\n\n\t/** Reference to the given key. */\n\tthis.key = attributes && attributes.key;\n}\n","/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nexport default {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n\t *\t@name syncComponentUpdates\n\t *\t@type Boolean\n\t *\t@default true\n\t */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n\t *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n\t */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n","import { VNode } from './vnode';\nimport options from './options';\n\n\nconst stack = [];\n\nconst EMPTY_CHILDREN = [];\n\n/** JSX/hyperscript reviver\n*\tBenchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\t@see http://jasonformat.com/wtf-is-jsx\n *\t@public\n *  @example\n *  /** @jsx h *\\/\n *  import { render, h } from 'preact';\n *  render(<span>foo</span>, document.body);\n */\nexport function h(nodeName, attributes) {\n\tlet children, lastSimple, child, simple, i;\n\tfor (i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) instanceof Array) {\n\t\t\tfor (i=child.length; i--; ) stack.push(child[i]);\n\t\t}\n\t\telse if (child!=null && child!==true && child!==false) {\n\t\t\tif (typeof child=='number') child = String(child);\n\t\t\tsimple = typeof child=='string';\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length-1] += child;\n\t\t\t}\n\t\t\telse {\n\t\t\t\t(children || (children = [])).push(child);\n\t\t\t\tlastSimple = simple;\n\t\t\t}\n\t\t}\n\t}\n\n\tlet p = new VNode(nodeName, attributes || undefined, children || EMPTY_CHILDREN);\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode) options.vnode(p);\n\n\treturn p;\n}\n","/** Copy own-properties from `props` onto `obj`.\n *\t@returns obj\n *\t@private\n */\nexport function extend(obj, props) {\n\tif (props) {\n\t\tfor (let i in props) obj[i] = props[i];\n\t}\n\treturn obj;\n}\n\n\n/** Fast clone. Note: does not filter out non-own properties.\n *\t@see https://esbench.com/bench/56baa34f45df6895002e03b6\n */\nexport function clone(obj) {\n\treturn extend({}, obj);\n}\n\n\n/** Get a deep property value from the given object, expressed in dot-notation.\n *\t@private\n */\nexport function delve(obj, key) {\n\tfor (let p=key.split('.'), i=0; i<p.length && obj; i++) {\n\t\tobj = obj[p[i]];\n\t}\n\treturn obj;\n}\n\n\n/** @private is the given object a Function? */\nexport function isFunction(obj) {\n\treturn 'function'===typeof obj;\n}\n\n\n/** @private is the given object a String? */\nexport function isString(obj) {\n\treturn 'string'===typeof obj;\n}\n\n\n/** Convert a hashmap of CSS classes to a space-delimited className string\n *\t@private\n */\nexport function hashToClassName(c) {\n\tlet str = '';\n\tfor (let prop in c) {\n\t\tif (c[prop]) {\n\t\t\tif (str) str += ' ';\n\t\t\tstr += prop;\n\t\t}\n\t}\n\treturn str;\n}\n\n\n/** Just a memoized String#toLowerCase */\nlet lcCache = {};\nexport const toLowerCase = s => lcCache[s] || (lcCache[s] = s.toLowerCase());\n\n\n/** Call a function asynchronously, as soon as possible.\n *\t@param {Function} callback\n */\nlet resolved = typeof Promise!=='undefined' && Promise.resolve();\nexport const defer = resolved ? (f => { resolved.then(f); }) : setTimeout;\n","// render modes\n\nexport const NO_RENDER = 0;\nexport const SYNC_RENDER = 1;\nexport const FORCE_RENDER = 2;\nexport const ASYNC_RENDER = 3;\n\nexport const EMPTY = {};\n\nexport const ATTR_KEY = typeof Symbol!=='undefined' ? Symbol.for('preactattr') : '__preactattr_';\n\n// DOM properties that should NOT have \"px\" added when numeric\nexport const NON_DIMENSION_PROPS = {\n\tboxFlex:1, boxFlexGroup:1, columnCount:1, fillOpacity:1, flex:1, flexGrow:1,\n\tflexPositive:1, flexShrink:1, flexNegative:1, fontWeight:1, lineClamp:1, lineHeight:1,\n\topacity:1, order:1, orphans:1, strokeOpacity:1, widows:1, zIndex:1, zoom:1\n};\n\n// DOM event types that do not bubble and should be attached via useCapture\nexport const NON_BUBBLING_EVENTS = { blur:1, error:1, focus:1, load:1, resize:1, scroll:1 };\n","import { isString, delve } from './util';\n\n/** Create an Event handler function that sets a given state property.\n *\t@param {Component} component\tThe component whose state should be updated\n *\t@param {string} key\t\t\t\tA dot-notated key path to update in the component's state\n *\t@param {string} eventPath\t\tA dot-notated key path to the value that should be retrieved from the Event or component\n *\t@returns {function} linkedStateHandler\n *\t@private\n */\nexport function createLinkedState(component, key, eventPath) {\n\tlet path = key.split('.');\n\treturn function(e) {\n\t\tlet t = e && e.target || this,\n\t\t\tstate = {},\n\t\t\tobj = state,\n\t\t\tv = isString(eventPath) ? delve(e, eventPath) : t.nodeName ? (t.type.match(/^che|rad/) ? t.checked : t.value) : e,\n\t\t\ti = 0;\n\t\tfor ( ; i<path.length-1; i++) {\n\t\t\tobj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t\t}\n\t\tobj[path[i]] = v;\n\t\tcomponent.setState(state);\n\t};\n}\n","import options from './options';\nimport { defer } from './util';\nimport { renderComponent } from './vdom/component';\n\n/** Managed queue of dirty components to be re-rendered */\n\nlet items = [];\n\nexport function enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component)==1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\n\nexport function rerender() {\n\tlet p, list = items;\n\titems = [];\n\twhile ( (p = list.pop()) ) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { EMPTY } from '../constants';\nimport { getNodeProps } from './index';\nimport { isFunction } from '../util';\n\n\n/** Check if a VNode is a reference to a stateless functional component.\n *\tA function component is represented as a VNode whose `nodeName` property is a reference to a function.\n *\tIf that function is not a Component (ie, has no `.render()` method on a prototype), it is considered a stateless functional component.\n *\t@param {VNode} vnode\tA VNode\n *\t@private\n */\nexport function isFunctionalComponent(vnode) {\n\tlet nodeName = vnode && vnode.nodeName;\n\treturn nodeName && isFunction(nodeName) && !(nodeName.prototype && nodeName.prototype.render);\n}\n\n\n\n/** Construct a resultant VNode from a VNode referencing a stateless functional component.\n *\t@param {VNode} vnode\tA VNode with a `nodeName` property that is a reference to a function.\n *\t@private\n */\nexport function buildFunctionalComponent(vnode, context) {\n\treturn vnode.nodeName(getNodeProps(vnode), context || EMPTY);\n}\n","import { clone, isString, isFunction, toLowerCase } from '../util';\nimport { isFunctionalComponent } from './functional-component';\n\n\n/** Check if two nodes are equivalent.\n *\t@param {Element} node\n *\t@param {VNode} vnode\n *\t@private\n */\nexport function isSameNodeType(node, vnode) {\n\tif (isString(vnode)) {\n\t\treturn node instanceof Text;\n\t}\n\tif (isString(vnode.nodeName)) {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\tif (isFunction(vnode.nodeName)) {\n\t\treturn (node._componentConstructor ? node._componentConstructor===vnode.nodeName : true) || isFunctionalComponent(vnode);\n\t}\n}\n\n\nexport function isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName===nodeName || toLowerCase(node.nodeName)===toLowerCase(nodeName);\n}\n\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {VNode} vnode\n * @returns {Object} props\n */\nexport function getNodeProps(vnode) {\n\tlet props = clone(vnode.attributes);\n\tprops.children = vnode.children;\n\n\tlet defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps) {\n\t\tfor (let i in defaultProps) {\n\t\t\tif (props[i]===undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n","import { NON_DIMENSION_PROPS, NON_BUBBLING_EVENTS } from '../constants';\nimport options from '../options';\nimport { toLowerCase, isString, isFunction, hashToClassName } from '../util';\n\n\n\n\n/** Removes a given DOM Node from its parent. */\nexport function removeNode(node) {\n\tlet p = node.parentNode;\n\tif (p) p.removeChild(node);\n}\n\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nexport function setAccessor(node, name, old, value, isSvg) {\n\n\tif (name==='className') name = 'class';\n\n\tif (name==='class' && value && typeof value==='object') {\n\t\tvalue = hashToClassName(value);\n\t}\n\n\tif (name==='key') {\n\t\t// ignore\n\t}\n\telse if (name==='class' && !isSvg) {\n\t\tnode.className = value || '';\n\t}\n\telse if (name==='style') {\n\t\tif (!value || isString(value) || isString(old)) {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value==='object') {\n\t\t\tif (!isString(old)) {\n\t\t\t\tfor (let i in old) if (!(i in value)) node.style[i] = '';\n\t\t\t}\n\t\t\tfor (let i in value) {\n\t\t\t\tnode.style[i] = typeof value[i]==='number' && !NON_DIMENSION_PROPS[i] ? (value[i]+'px') : value[i];\n\t\t\t}\n\t\t}\n\t}\n\telse if (name==='dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t}\n\telse if (name[0]=='o' && name[1]=='n') {\n\t\tlet l = node._listeners || (node._listeners = {});\n\t\tname = toLowerCase(name.substring(2));\n\t\t// @TODO: this might be worth it later, un-breaks focus/blur bubbling in IE9:\n\t\t// if (node.attachEvent) name = name=='focus'?'focusin':name=='blur'?'focusout':name;\n\t\tif (value) {\n\t\t\tif (!l[name]) node.addEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t\t}\n\t\telse if (l[name]) {\n\t\t\tnode.removeEventListener(name, eventProxy, !!NON_BUBBLING_EVENTS[name]);\n\t\t}\n\t\tl[name] = value;\n\t}\n\telse if (name!=='list' && name!=='type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value==null ? '' : value);\n\t\tif (value==null || value===false) node.removeAttribute(name);\n\t}\n\telse {\n\t\tlet ns = isSvg && name.match(/^xlink\\:?(.+)/);\n\t\tif (value==null || value===false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]));\n\t\t\telse node.removeAttribute(name);\n\t\t}\n\t\telse if (typeof value!=='object' && !isFunction(value)) {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', toLowerCase(ns[1]), value);\n\t\t\telse node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) { }\n}\n\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n","import { toLowerCase } from '../util';\nimport { removeNode } from './index';\n\n/** DOM node pool, keyed on nodeName. */\n\nconst nodes = {};\n\nexport function collectNode(node) {\n\tremoveNode(node);\n\n\tif (node instanceof Element) {\n\t\tnode._component = node._componentConstructor = null;\n\n\t\tlet name = node.normalizedNodeName || toLowerCase(node.nodeName);\n\t\t(nodes[name] || (nodes[name] = [])).push(node);\n\t}\n}\n\n\nexport function createNode(nodeName, isSvg) {\n\tlet name = toLowerCase(nodeName),\n\t\tnode = nodes[name] && nodes[name].pop() || (isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName));\n\tnode.normalizedNodeName = name;\n\treturn node;\n}\n","import { ATTR_KEY } from '../constants';\nimport { isString, isFunction } from '../util';\nimport { isSameNodeType, isNamedNode } from './index';\nimport { isFunctionalComponent, buildFunctionalComponent } from './functional-component';\nimport { buildComponentFromVNode } from './component';\nimport { setAccessor, removeNode } from '../dom/index';\nimport { createNode, collectNode } from '../dom/recycler';\nimport { unmountComponent } from './component';\nimport options from '../options';\n\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nexport const mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nexport let diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nlet isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nlet hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nexport function flushMounts() {\n\tlet c;\n\twhile ((c=mounts.pop())) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nexport function diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent && typeof parent.ownerSVGElement!=='undefined';\n\n\t\t// hydration is inidicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom && !(ATTR_KEY in dom);\n\t}\n\n\tlet ret = idiff(dom, vnode, context, mountAll);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode!==parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (!--diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n\nfunction idiff(dom, vnode, context, mountAll) {\n\tlet ref = vnode && vnode.attributes && vnode.attributes.ref;\n\n\n\t// Resolve ephemeral Pure Functional Components\n\twhile (isFunctionalComponent(vnode)) {\n\t\tvnode = buildFunctionalComponent(vnode, context);\n\t}\n\n\n\t// empty values (null & undefined) render as empty Text nodes\n\tif (vnode==null) vnode = '';\n\n\n\t// Fast case: Strings create/update Text nodes.\n\tif (isString(vnode)) {\n\t\t// update if it's already a Text node\n\t\tif (dom && dom instanceof Text && dom.parentNode) {\n\t\t\tif (dom.nodeValue!=vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tif (dom) recollectNodeTree(dom);\n\t\t\tdom = document.createTextNode(vnode);\n\t\t}\n\n\t\treturn dom;\n\t}\n\n\n\t// If the VNode represents a Component, perform a component diff.\n\tif (isFunction(vnode.nodeName)) {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\n\tlet out = dom,\n\t\tnodeName = String(vnode.nodeName),\t// @TODO this masks undefined component errors as `<undefined>`\n\t\tprevSvgMode = isSvgMode,\n\t\tvchildren = vnode.children;\n\n\n\t// SVGs have special namespace stuff.\n\t// This tracks entering and exiting that namespace when descending through the tree.\n\tisSvgMode = nodeName==='svg' ? true : nodeName==='foreignObject' ? false : isSvgMode;\n\n\n\tif (!dom) {\n\t\t// case: we had no element to begin with\n\t\t// - create an element with the nodeName from VNode\n\t\tout = createNode(nodeName, isSvgMode);\n\t}\n\telse if (!isNamedNode(dom, nodeName)) {\n\t\t// case: Element and VNode had different nodeNames\n\t\t// - need to create the correct Element to match VNode\n\t\t// - then migrate children from old to new\n\n\t\tout = createNode(nodeName, isSvgMode);\n\n\t\t// move children into the replacement node\n\t\twhile (dom.firstChild) out.appendChild(dom.firstChild);\n\n\t\t// if the previous Element was mounted into the DOM, replace it inline\n\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t// recycle the old element (skips non-Element node types)\n\t\trecollectNodeTree(dom);\n\t}\n\n\n\tlet fc = out.firstChild,\n\t\tprops = out[ATTR_KEY];\n\n\t// Attribute Hydration: if there is no prop cache on the element,\n\t// ...create it and populate it with the element's attributes.\n\tif (!props) {\n\t\tout[ATTR_KEY] = props = {};\n\t\tfor (let a=out.attributes, i=a.length; i--; ) props[a[i].name] = a[i].value;\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length===1 && typeof vchildren[0]==='string' && fc && fc instanceof Text && !fc.nextSibling) {\n\t\tif (fc.nodeValue!=vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc) {\n\t\tinnerDiffNode(out, vchildren, context, mountAll, !!props.dangerouslySetInnerHTML);\n\t}\n\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\n\t// invoke original ref (from before resolving Pure Functional Components):\n\tif (ref) {\n\t\t(props.ref = ref)(out);\n\t}\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} absorb\t\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, absorb) {\n\tlet originalChildren = dom.childNodes,\n\t\tchildren = [],\n\t\tkeyed = {},\n\t\tkeyedLen = 0,\n\t\tmin = 0,\n\t\tlen = originalChildren.length,\n\t\tchildrenLen = 0,\n\t\tvlen = vchildren && vchildren.length,\n\t\tj, c, vchild, child;\n\n\tif (len) {\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = originalChildren[i],\n\t\t\t\tprops = child[ATTR_KEY],\n\t\t\t\tkey = vlen ? ((c = child._component) ? c.__key : props ? props.key : null) : null;\n\t\t\tif (key!=null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = child;\n\t\t\t}\n\t\t\telse if (hydrating || absorb || props || child instanceof Text) {\n\t\t\t\tchildren[childrenLen++] = child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen) {\n\t\tfor (let i=0; i<vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// if (isFunctionalComponent(vchild)) {\n\t\t\t// \tvchild = buildFunctionalComponent(vchild);\n\t\t\t// }\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tlet key = vchild.key;\n\t\t\tif (key!=null) {\n\t\t\t\tif (keyedLen && key in keyed) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min<childrenLen) {\n\t\t\t\tfor (j=min; j<childrenLen; j++) {\n\t\t\t\t\tc = children[j];\n\t\t\t\t\tif (c && isSameNodeType(c, vchild)) {\n\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\tif (j===childrenLen-1) childrenLen--;\n\t\t\t\t\t\tif (j===min) min++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tif (child && child!==dom) {\n\t\t\t\tif (i>=len) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t}\n\t\t\t\telse if (child!==originalChildren[i]) {\n\t\t\t\t\tif (child===originalChildren[i+1]) {\n\t\t\t\t\t\tremoveNode(originalChildren[i]);\n\t\t\t\t\t}\n\t\t\t\t\tdom.insertBefore(child, originalChildren[i] || null);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\tif (keyedLen) {\n\t\tfor (let i in keyed) if (keyed[i]) recollectNodeTree(keyed[i]);\n\t}\n\n\t// remove orphaned children\n\twhile (min<=childrenLen) {\n\t\tchild = children[childrenLen--];\n\t\tif (child) recollectNodeTree(child);\n\t}\n}\n\n\n\n/** Recursively recycle (or just unmount) a node an its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nexport function recollectNodeTree(node, unmountOnly) {\n\tlet component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component, !unmountOnly);\n\t}\n\telse {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node[ATTR_KEY] && node[ATTR_KEY].ref) node[ATTR_KEY].ref(null);\n\n\t\tif (!unmountOnly) {\n\t\t\tcollectNode(node);\n\t\t}\n\n\t\t// Recollect/unmount all children.\n\t\t// - we use .lastChild here because it causes less reflow than .firstChild\n\t\t// - it's also cheaper than accessing the .childNodes Live NodeList\n\t\tlet c;\n\t\twhile ((c=node.lastChild)) recollectNodeTree(c, unmountOnly);\n\t}\n}\n\n\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tlet name;\n\tfor (name in old) {\n\t\tif (!(attrs && name in attrs) && old[name]!=null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tif (attrs) {\n\t\tfor (name in attrs) {\n\t\t\tif (name!=='children' && name!=='innerHTML' && (!(name in old) || attrs[name]!==(name==='value' || name==='checked' ? dom[name] : old[name]))) {\n\t\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Component } from '../component';\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nconst components = {};\n\n\nexport function collectComponent(component) {\n\tlet name = component.constructor.name,\n\t\tlist = components[name];\n\tif (list) list.push(component);\n\telse components[name] = [component];\n}\n\n\nexport function createComponent(Ctor, props, context) {\n\tlet inst = new Ctor(props, context),\n\t\tlist = components[Ctor.name];\n\tComponent.call(inst, props, context);\n\tif (list) {\n\t\tfor (let i=list.length; i--; ) {\n\t\t\tif (list[i].constructor===Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n","import { SYNC_RENDER, NO_RENDER, FORCE_RENDER, ASYNC_RENDER, ATTR_KEY } from '../constants';\nimport options from '../options';\nimport { isFunction, clone, extend } from '../util';\nimport { enqueueRender } from '../render-queue';\nimport { getNodeProps } from './index';\nimport { diff, mounts, diffLevel, flushMounts, recollectNodeTree } from './diff';\nimport { isFunctionalComponent, buildFunctionalComponent } from './functional-component';\nimport { createComponent, collectComponent } from './component-recycler';\nimport { removeNode } from '../dom/index';\n\n\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nexport function setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif ((component.__ref = props.ref)) delete props.ref;\n\tif ((component.__key = props.key)) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t}\n\telse if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context!==component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts!==NO_RENDER) {\n\t\tif (opts===SYNC_RENDER || options.syncComponentUpdates!==false || !component.base) {\n\t\t\trenderComponent(component, SYNC_RENDER, mountAll);\n\t\t}\n\t\telse {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nexport function renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tlet skip, rendered,\n\t\tprops = component.props,\n\t\tstate = component.state,\n\t\tcontext = component.context,\n\t\tpreviousProps = component.prevProps || props,\n\t\tpreviousState = component.prevState || state,\n\t\tpreviousContext = component.prevContext || context,\n\t\tisUpdate = component.base,\n\t\tnextBase = component.nextBase,\n\t\tinitialBase = isUpdate || nextBase,\n\t\tinitialChildComponent = component._component,\n\t\tinst, cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts!==FORCE_RENDER\n\t\t\t&& component.shouldComponentUpdate\n\t\t\t&& component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t}\n\t\telse if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\tif (component.render) rendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(clone(context), component.getChildContext());\n\t\t}\n\n\t\twhile (isFunctionalComponent(rendered)) {\n\t\t\trendered = buildFunctionalComponent(rendered, context);\n\t\t}\n\n\t\tlet childComponent = rendered && rendered.nodeName,\n\t\t\ttoUnmount, base;\n\n\t\tif (isFunction(childComponent)) {\n\t\t\t// set up high order component link\n\n\t\t\tlet childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor===childComponent && childProps.key==inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, SYNC_RENDER, context);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tinst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tcomponent._component = inst;\n\t\t\t\tsetComponentProps(inst, childProps, NO_RENDER, context);\n\t\t\t\trenderComponent(inst, SYNC_RENDER, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t}\n\t\telse {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts===SYNC_RENDER) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base!==initialBase && inst!==initialChildComponent) {\n\t\t\tlet baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base!==baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount, base!==initialBase);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tlet componentRef = component,\n\t\t\t\tt = component;\n\t\t\twhile ((t=t._parentComponent)) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t}\n\telse if (!skip) {\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tlet cb = component._renderCallbacks, fn;\n\tif (cb) while ( (fn = cb.pop()) ) fn.call(component);\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nexport function buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tlet c = dom && dom._component,\n\t\toriginalComponent = c,\n\t\toldDom = dom,\n\t\tisDirectOwner = c && dom._componentConstructor===vnode.nodeName,\n\t\tisOwner = isDirectOwner,\n\t\tprops = getNodeProps(vnode);\n\twhile (c && !isOwner && (c=c._parentComponent)) {\n\t\tisOwner = c.constructor===vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, ASYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\t}\n\telse {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent, true);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L241:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, SYNC_RENDER, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom!==oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Element} dom\t\t\tA DOM node from which to unmount the given Component\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nexport function unmountComponent(component, remove) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\t// console.log(`${remove?'Removing':'Unmounting'} component: ${component.constructor.name}`);\n\tlet base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tlet inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner, remove);\n\t}\n\telse if (base) {\n\t\tif (base[ATTR_KEY] && base[ATTR_KEY].ref) base[ATTR_KEY].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tif (remove) {\n\t\t\tremoveNode(base);\n\t\t\tcollectComponent(component);\n\t\t}\n\t\tlet c;\n\t\twhile ((c=base.lastChild)) recollectNodeTree(c, !remove);\n\t\t// removeOrphanedChildren(base.childNodes, true);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n\tif (component.componentDidUnmount) component.componentDidUnmount();\n}\n","import { FORCE_RENDER } from './constants';\nimport { extend, clone, isFunction } from './util';\nimport { createLinkedState } from './linked-state';\nimport { renderComponent } from './vdom/component';\nimport { enqueueRender } from './render-queue';\n\n/** Base Component class, for the ES6 Class method of creating Components\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nexport function Component(props, context) {\n\t/** @private */\n\tthis._dirty = true;\n\t// /** @public */\n\t// this._disableRendering = false;\n\t// /** @public */\n\t// this.prevState = this.prevProps = this.prevContext = this.base = this.nextBase = this._parentComponent = this._component = this.__ref = this.__key = this._linkedStates = this._renderCallbacks = null;\n\t/** @public */\n\tthis.context = context;\n\t/** @type {object} */\n\tthis.props = props;\n\t/** @type {object} */\n\tif (!this.state) this.state = {};\n}\n\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` value indicating if the component should re-render when receiving the given `props` and `state`.\n\t *\t@param {object} nextProps\n\t *\t@param {object} nextState\n\t *\t@param {object} nextContext\n\t *\t@returns {Boolean} should the component re-render\n\t *\t@name shouldComponentUpdate\n\t *\t@function\n\t */\n\t// shouldComponentUpdate() {\n\t// \treturn true;\n\t// },\n\n\n\t/** Returns a function that sets a state property when called.\n\t *\tCalling linkState() repeatedly with the same arguments returns a cached link function.\n\t *\n\t *\tProvides some built-in special cases:\n\t *\t\t- Checkboxes and radio buttons link their boolean `checked` value\n\t *\t\t- Inputs automatically link their `value` property\n\t *\t\t- Event paths fall back to any associated Component if not found on an element\n\t *\t\t- If linked value is a function, will invoke it and use the result\n\t *\n\t *\t@param {string} key\t\tThe path to set - can be a dot-notated deep key\n\t *\t@param {string} [eventPath]\tIf set, attempts to find the new state value at a given dot-notated path within the object passed to the linkedState setter.\n\t *\t@returns {function} linkStateSetter(e)\n\t *\n\t *\t@example Update a \"text\" state value when an input changes:\n\t *\t\t<input onChange={ this.linkState('text') } />\n\t *\n\t *\t@example Set a deep state value on click\n\t *\t\t<button onClick={ this.linkState('touch.coords', 'touches.0') }>Tap</button\n\t */\n\tlinkState(key, eventPath) {\n\t\tlet c = this._linkedStates || (this._linkedStates = {});\n\t\treturn c[key+eventPath] || (c[key+eventPath] = createLinkedState(this, key, eventPath));\n\t},\n\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n\t *\t@param {object} state\t\tA hash of state properties to update with new values\n\t */\n\tsetState(state, callback) {\n\t\tlet s = this.state;\n\t\tif (!this.prevState) this.prevState = clone(s);\n\t\textend(s, isFunction(state) ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = (this._renderCallbacks || [])).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n\t *\t@private\n\t */\n\tforceUpdate() {\n\t\trenderComponent(this, FORCE_RENDER);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n\t *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n\t *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n\t *\t@param {object} state\t\tThe component's current state\n\t *\t@param {object} context\t\tContext object (if a parent component has provided context)\n\t *\t@returns VNode\n\t */\n\trender() {}\n\n});\n","import { diff } from './vdom/diff';\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nexport function render(vnode, parent, merge) {\n\treturn diff(merge, vnode, {}, false, parent);\n}\n","export function uuid() {\r\n\tlet uuid = '';\r\n\tfor (let i=0; i<32; i++) {\r\n\t\tlet random = Math.random() * 16 | 0;\r\n\t\tif (i === 8 || i === 12 || i === 16 || i === 20) {\r\n\t\t\tuuid += '-';\r\n\t\t}\r\n\t\tuuid += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16);\r\n\t}\r\n\treturn uuid;\r\n}\r\n\r\nexport function pluralize(count, word) {\r\n\treturn count === 1 ? word : word + 's';\r\n}\r\n\r\nexport function store(namespace, data) {\r\n\tif (data) return localStorage[namespace] = JSON.stringify(data);\r\n\r\n\tlet store = localStorage[namespace];\r\n\treturn store && JSON.parse(store) || [];\r\n}\r\n","import { uuid, store } from './util';\r\n\r\nexport default class TodoModel {\r\n\tconstructor(key, sub) {\r\n\t\tthis.key = key;\r\n\t\tthis.todos = /*store(key) || */[];\r\n\t\tthis.onChanges = [sub];\r\n\t}\r\n\r\n\tinform() {\r\n\t\t// store(this.key, this.todos);\r\n\t\tthis.onChanges.forEach( cb => cb() );\r\n\t}\r\n\r\n\taddTodo(title) {\r\n\t\tthis.todos = this.todos.concat({\r\n\t\t\tid: uuid(),\r\n\t\t\ttitle,\r\n\t\t\tcompleted: false\r\n\t\t});\r\n\t\tthis.inform();\r\n\t}\r\n\r\n\ttoggleAll(completed) {\r\n\t\tthis.todos = this.todos.map(\r\n\t\t\ttodo => ({ ...todo, completed })\r\n\t\t);\r\n\t\tthis.inform();\r\n\t}\r\n\r\n\ttoggle(todoToToggle) {\r\n\t\tthis.todos = this.todos.map( todo => (\r\n\t\t\ttodo !== todoToToggle ? todo : ({ ...todo, completed: !todo.completed })\r\n\t\t) );\r\n\t\tthis.inform();\r\n\t}\r\n\r\n\tdestroy(todo) {\r\n\t\tthis.todos = this.todos.filter( t => t !== todo );\r\n\t\tthis.inform();\r\n\t}\r\n\r\n\tsave(todoToSave, title) {\r\n\t\tthis.todos = this.todos.map( todo => (\r\n\t\t\ttodo !== todoToSave ? todo : ({ ...todo, title })\r\n\t\t));\r\n\t\tthis.inform();\r\n\t}\r\n\r\n\tclearCompleted() {\r\n\t\tthis.todos = this.todos.filter( todo => !todo.completed );\r\n\t\tthis.inform();\r\n\t}\r\n}\r\n","import { h, Component } from 'preact';\r\nimport { pluralize } from './util';\r\n\r\nexport default class TodoFooter extends Component {\r\n\trender({ nowShowing, count, completedCount, onClearCompleted }) {\r\n\t\treturn (\r\n\t\t\t<footer class=\"footer\">\r\n\t\t\t\t<span class=\"todo-count\">\r\n\t\t\t\t\t<strong>{count}</strong> {pluralize(count, 'item')} left\r\n\t\t\t\t</span>\r\n\t\t\t\t<ul class=\"filters\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/\" class={nowShowing=='all' && 'selected'}>All</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/active\" class={nowShowing=='active' && 'selected'}>Active</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a href=\"#/completed\" class={nowShowing=='completed' && 'selected'}>Completed</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t{ completedCount > 0 && (\r\n\t\t\t\t\t<button class=\"clear-completed\" onClick={onClearCompleted}>\r\n\t\t\t\t\t\tClear completed\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) }\r\n\t\t\t</footer>\r\n\t\t);\r\n\t}\r\n}\r\n","import { h, Component } from 'preact';\r\n\r\nconst ESCAPE_KEY = 27;\r\nconst ENTER_KEY = 13;\r\n\r\nexport default class TodoItem extends Component {\r\n\thandleSubmit = () => {\r\n\t\tlet { onSave, onDestroy, todo } = this.props,\r\n\t\t\tval = this.state.editText.trim();\r\n\t\tif (val) {\r\n\t\t\tonSave(todo, val);\r\n\t\t\tthis.setState({ editText: val });\r\n\t\t}\r\n\t\telse {\r\n\t\t\tonDestroy(todo);\r\n\t\t}\r\n\t};\r\n\r\n\thandleEdit = () => {\r\n\t\tlet { onEdit, todo } = this.props;\r\n\t\tonEdit(todo);\r\n\t\tthis.setState({ editText: todo.title });\r\n\t};\r\n\r\n\ttoggle = e => {\r\n\t\tlet { onToggle, todo } = this.props;\r\n\t\tonToggle(todo);\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\thandleKeyDown = e => {\r\n\t\tif (e.which===ESCAPE_KEY) {\r\n\t\t\tlet { todo } = this.props;\r\n\t\t\tthis.setState({ editText: todo.title });\r\n\t\t\tthis.props.onCancel(todo);\r\n\t\t}\r\n\t\telse if (e.which===ENTER_KEY) {\r\n\t\t\tthis.handleSubmit();\r\n\t\t}\r\n\t};\r\n\t\r\n\thandleDestroy = () => {\r\n\t\tthis.props.onDestroy(this.props.todo);\r\n\t};\r\n\r\n\t// shouldComponentUpdate({ todo, editing, editText }) {\r\n\t// \treturn (\r\n\t// \t\ttodo !== this.props.todo ||\r\n\t// \t\tediting !== this.props.editing ||\r\n\t// \t\teditText !== this.state.editText\r\n\t// \t);\r\n\t// }\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tlet node = this.base && this.base.querySelector('.edit');\r\n\t\tif (node) node.focus();\r\n\t}\r\n\r\n\trender({ todo:{ title, completed }, onToggle, onDestroy, editing }, { editText }) {\r\n\t\treturn (\r\n\t\t\t<li class={{ completed, editing }}>\r\n\t\t\t\t<div class=\"view\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"toggle\"\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tchecked={completed}\r\n\t\t\t\t\t\tonChange={this.toggle}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label onDblClick={this.handleEdit}>{title}</label>\r\n\t\t\t\t\t<button class=\"destroy\" onClick={this.handleDestroy} />\r\n\t\t\t\t</div>\r\n\t\t\t\t{ editing && (\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"edit\"\r\n\t\t\t\t\t\tvalue={editText}\r\n\t\t\t\t\t\tonBlur={this.handleSubmit}\r\n\t\t\t\t\t\tonInput={this.linkState('editText')}\r\n\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) }\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n","import { h, Component } from 'preact';\r\nimport TodoModel from './model';\r\nimport TodoFooter from './footer';\r\nimport TodoItem from './item';\r\n\r\nconst ENTER_KEY = 13;\r\n\r\nconst FILTERS = {\r\n\tall: todo => true,\r\n\tactive: todo => !todo.completed,\r\n\tcompleted: todo => todo.completed\r\n};\r\n\r\nexport default class App extends Component {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.model = new TodoModel('preact-todos', () => this.setState({}) );\r\n\t\taddEventListener('hashchange', this.handleRoute.bind(this));\r\n\t\tthis.handleRoute();\r\n\t}\r\n\r\n\thandleRoute() {\r\n\t\tlet nowShowing = String(location.hash||'').split('/').pop();\r\n\t\tif (!FILTERS[nowShowing]) {\r\n\t\t\tnowShowing = 'all';\r\n\t\t}\r\n\t\tthis.setState({ nowShowing });\r\n\t}\r\n\r\n\thandleNewTodoKeyDown = e => {\r\n\t\tif (e.keyCode!==ENTER_KEY) return;\r\n\t\te.preventDefault();\r\n\r\n\t\tlet val = this.state.newTodo.trim();\r\n\t\tif (val) {\r\n\t\t\tthis.model.addTodo(val);\r\n\t\t\tthis.setState({ newTodo: '' });\r\n\t\t}\r\n\t};\r\n\r\n\ttoggleAll = event => {\r\n\t\tlet checked = event.target.checked;\r\n\t\tthis.model.toggleAll(checked);\r\n\t};\r\n\r\n\ttoggle = todo => {\r\n\t\tthis.model.toggle(todo);\r\n\t};\r\n\r\n\tdestroy = todo => {\r\n\t\tthis.model.destroy(todo);\r\n\t};\r\n\r\n\tedit = todo => {\r\n\t\tthis.setState({ editing: todo.id });\r\n\t};\r\n\r\n\tsave = (todoToSave, text) => {\r\n\t\tthis.model.save(todoToSave, text);\r\n\t\tthis.setState({ editing: null });\r\n\t};\r\n\r\n\tcancel = () => {\r\n\t\tthis.setState({ editing: null });\r\n\t};\r\n\r\n\tclearCompleted = () => {\r\n\t\tthis.model.clearCompleted();\r\n\t};\r\n\r\n\trender({ }, { nowShowing=ALL_TODOS, newTodo, editing }) {\r\n\t\tlet { todos } = this.model,\r\n\t\t\tshownTodos = todos.filter( FILTERS[nowShowing] ),\r\n\t\t\tactiveTodoCount = todos.reduce( (a, todo) => a + (todo.completed ? 0 : 1), 0),\r\n\t\t\tcompletedCount = todos.length - activeTodoCount;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<header class=\"header\">\r\n\t\t\t\t\t<h1>todos</h1>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclass=\"new-todo\"\r\n\t\t\t\t\t\tplaceholder=\"What needs to be done?\"\r\n\t\t\t\t\t\tvalue={newTodo}\r\n\t\t\t\t\t\tonKeyDown={this.handleNewTodoKeyDown}\r\n\t\t\t\t\t\tonInput={this.linkState('newTodo')}\r\n\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t{ todos.length ? (\r\n\t\t\t\t\t<section class=\"main\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclass=\"toggle-all\"\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tonChange={this.toggleAll}\r\n\t\t\t\t\t\t\tchecked={activeTodoCount === 0}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ul class=\"todo-list\">\r\n\t\t\t\t\t\t\t{ shownTodos.map( todo => (\r\n\t\t\t\t\t\t\t\t<TodoItem\r\n\t\t\t\t\t\t\t\t\ttodo={todo}\r\n\t\t\t\t\t\t\t\t\tonToggle={this.toggle}\r\n\t\t\t\t\t\t\t\t\tonDestroy={this.destroy}\r\n\t\t\t\t\t\t\t\t\tonEdit={this.edit}\r\n\t\t\t\t\t\t\t\t\tediting={editing === todo.id}\r\n\t\t\t\t\t\t\t\t\tonSave={this.save}\r\n\t\t\t\t\t\t\t\t\tonCancel={this.cancel}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)) }\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t) : null }\r\n\r\n\t\t\t\t{ (activeTodoCount || completedCount) ? (\r\n\t\t\t\t\t<TodoFooter\r\n\t\t\t\t\t\tcount={activeTodoCount}\r\n\t\t\t\t\t\tcompletedCount={completedCount}\r\n\t\t\t\t\t\tnowShowing={nowShowing}\r\n\t\t\t\t\t\tonClearCompleted={this.clearCompleted}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null }\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import { h, render } from 'preact';\r\nimport App from './app';\r\n// import 'todomvc-common';\r\n// import 'todomvc-common/base.css';\r\n// import 'todomvc-app-css/index.css';\r\n\r\nrender(<App />, document.querySelector('.todoapp'));\r\n"],"names":["VNode","nodeName","attributes","children","key","stack","EMPTY_CHILDREN","h","lastSimple","child","simple","i","arguments","length","push","pop","Array","String","p","undefined","options","vnode","extend","obj","props","clone","delve","split","isFunction","isString","hashToClassName","c","str","prop","lcCache","toLowerCase","s","resolved","Promise","resolve","defer","then","f","setTimeout","NO_RENDER","SYNC_RENDER","FORCE_RENDER","ASYNC_RENDER","EMPTY","ATTR_KEY","Symbol","for","NON_DIMENSION_PROPS","boxFlexGroup","columnCount","fillOpacity","flex","flexGrow","flexShrink","flexNegative","fontWeight","lineClamp","lineHeight","order","orphans","strokeOpacity","widows","zIndex","zoom","NON_BUBBLING_EVENTS","blur","error","focus","load","resize","scroll","createLinkedState","component","eventPath","path","e","t","target","state","v","type","match","checked","value","setState","items","enqueueRender","_dirty","debounceRendering","rerender","list","renderComponent","isFunctionalComponent","prototype","render","buildFunctionalComponent","context","getNodeProps","isSameNodeType","node","Text","_componentConstructor","isNamedNode","normalizedNodeName","defaultProps","removeNode","parentNode","removeChild","setAccessor","name","old","isSvg","className","style","cssText","innerHTML","__html","l","_listeners","substring","addEventListener","eventProxy","removeEventListener","removeAttribute","ns","removeAttributeNS","setAttributeNS","setAttribute","setProperty","event","nodes","collectNode","Element","_component","createNode","document","createElementNS","createElement","mounts","diffLevel","isSvgMode","hydrating","flushMounts","afterMount","componentDidMount","diff","dom","mountAll","parent","componentRoot","ownerSVGElement","ret","idiff","appendChild","ref","nodeValue","recollectNodeTree","createTextNode","buildComponentFromVNode","out","vchildren","firstChild","replaceChild","fc","a","nextSibling","dangerouslySetInnerHTML","prevSvgMode","innerDiffNode","absorb","originalChildren","childNodes","keyed","keyedLen","min","len","childrenLen","vlen","j","vchild","__key","insertBefore","unmountOnly","lastChild","diffAttributes","attrs","components","collectComponent","constructor","createComponent","Ctor","inst","call","nextBase","splice","setComponentProps","opts","_disable","__ref","base","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","skip","rendered","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","cbase","shouldComponentUpdate","componentWillUpdate","getChildContext","childComponent","toUnmount","childProps","_parentComponent","baseParent","componentRef","unshift","componentDidUpdate","afterUpdate","cb","_renderCallbacks","fn","originalComponent","oldDom","isDirectOwner","isOwner","unmountComponent","remove","beforeUnmount","componentWillUnmount","inner","componentDidUnmount","Component","_linkedStates","callback","merge","uuid","random","Math","toString","pluralize","count","word","TodoModel","sub","todos","onChanges","inform","forEach","addTodo","title","concat","toggleAll","completed","map","todo","toggle","todoToToggle","destroy","filter","save","todoToSave","clearCompleted","TodoFooter","nowShowing","completedCount","onClearCompleted","ESCAPE_KEY","ENTER_KEY","TodoItem","handleSubmit","onSave","onDestroy","val","editText","trim","handleEdit","onEdit","onToggle","preventDefault","handleKeyDown","which","onCancel","handleDestroy","querySelector","editing","linkState","FILTERS","App","handleNewTodoKeyDown","keyCode","newTodo","model","edit","id","text","cancel","handleRoute","bind","location","hash","ALL_TODOS","shownTodos","activeTodoCount","reduce"],"mappings":";;;AAAA;AACA,AAAO,SAASA,KAAT,CAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,QAArC,EAA+C;;MAEhDF,QAAL,GAAgBA,QAAhB;;;MAGKC,UAAL,GAAkBA,UAAlB;;;MAGKC,QAAL,GAAgBA,QAAhB;;;MAGKC,GAAL,GAAWF,cAAcA,WAAWE,GAApC;;;ACZD;;;;AAIA,cAAe;;;;;;;;;;;;;;;;;;;;;;CAAf;;ACAA,IAAMC,QAAQ,EAAd;;AAEA,IAAMC,iBAAiB,EAAvB;;;;;;;;;;;AAWA,AAAO,SAASC,CAAT,CAAWN,QAAX,EAAqBC,UAArB,EAAiC;KACnCC,iBAAJ;KAAcK,mBAAd;KAA0BC,cAA1B;KAAiCC,eAAjC;KAAyCC,UAAzC;MACKA,IAAEC,UAAUC,MAAjB,EAAyBF,MAAM,CAA/B,GAAoC;QAC7BG,IAAN,CAAWF,UAAUD,CAAV,CAAX;;KAEGT,cAAcA,WAAWC,QAA7B,EAAuC;MAClC,CAACE,MAAMQ,MAAX,EAAmBR,MAAMS,IAAN,CAAWZ,WAAWC,QAAtB;SACZD,WAAWC,QAAlB;;QAEME,MAAMQ,MAAb,EAAqB;MAChB,CAACJ,QAAQJ,MAAMU,GAAN,EAAT,aAAiCC,KAArC,EAA4C;QACtCL,IAAEF,MAAMI,MAAb,EAAqBF,GAArB;UAAkCG,IAAN,CAAWL,MAAME,CAAN,CAAX;;GAD7B,MAGK,IAAIF,SAAO,IAAP,IAAeA,UAAQ,IAAvB,IAA+BA,UAAQ,KAA3C,EAAkD;OAClD,OAAOA,KAAP,IAAc,QAAlB,EAA4BA,QAAQQ,OAAOR,KAAP,CAAR;YACnB,OAAOA,KAAP,IAAc,QAAvB;OACIC,UAAUF,UAAd,EAA0B;aAChBL,SAASU,MAAT,GAAgB,CAAzB,KAA+BJ,KAA/B;IADD,MAGK;KACHN,aAAaA,WAAW,EAAxB,CAAD,EAA8BW,IAA9B,CAAmCL,KAAnC;iBACaC,MAAb;;;;;KAKCQ,IAAI,IAAIlB,KAAJ,CAAUC,QAAV,EAAoBC,cAAciB,SAAlC,EAA6ChB,YAAYG,cAAzD,CAAR;;;KAGIc,QAAQC,KAAZ,EAAmBD,QAAQC,KAAR,CAAcH,CAAd;;QAEZA,CAAP;;;AChDD;;;;AAIA,AAAO,SAASI,MAAT,CAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;KAC9BA,KAAJ,EAAW;OACL,IAAIb,CAAT,IAAca,KAAd;OAAyBb,CAAJ,IAASa,MAAMb,CAAN,CAAT;;;QAEfY,GAAP;;;;;;AAOD,AAAO,SAASE,KAAT,CAAeF,GAAf,EAAoB;QACnBD,OAAO,EAAP,EAAWC,GAAX,CAAP;;;;;;AAOD,AAAO,SAASG,KAAT,CAAeH,GAAf,EAAoBnB,GAApB,EAAyB;MAC1B,IAAIc,IAAEd,IAAIuB,KAAJ,CAAU,GAAV,CAAN,EAAsBhB,IAAE,CAA7B,EAAgCA,IAAEO,EAAEL,MAAJ,IAAcU,GAA9C,EAAmDZ,GAAnD,EAAwD;QACjDY,IAAIL,EAAEP,CAAF,CAAJ,CAAN;;QAEMY,GAAP;;;;AAKD,AAAO,SAASK,UAAT,CAAoBL,GAApB,EAAyB;QACxB,eAAa,OAAOA,GAA3B;;;;AAKD,AAAO,SAASM,QAAT,CAAkBN,GAAlB,EAAuB;QACtB,aAAW,OAAOA,GAAzB;;;;;;AAOD,AAAO,SAASO,eAAT,CAAyBC,CAAzB,EAA4B;KAC9BC,MAAM,EAAV;MACK,IAAIC,IAAT,IAAiBF,CAAjB,EAAoB;MACfA,EAAEE,IAAF,CAAJ,EAAa;OACRD,GAAJ,EAASA,OAAO,GAAP;UACFC,IAAP;;;QAGKD,GAAP;;;;AAKD,IAAIE,UAAU,EAAd;AACA,AAAO,IAAMC,cAAc,SAAdA,WAAc;QAAKD,QAAQE,CAAR,MAAeF,QAAQE,CAAR,IAAaA,EAAED,WAAF,EAA5B,CAAL;CAApB;;;;;AAMP,IAAIE,WAAW,OAAOC,OAAP,KAAiB,WAAjB,IAAgCA,QAAQC,OAAR,EAA/C;AACA,AAAO,IAAMC,QAAQH,WAAY,aAAK;UAAWI,IAAT,CAAcC,CAAd;CAAnB,GAA0CC,UAAxD;;ACnEP;;AAEA,AAAO,IAAMC,YAAY,CAAlB;AACP,AAAO,IAAMC,cAAc,CAApB;AACP,AAAO,IAAMC,eAAe,CAArB;AACP,AAAO,IAAMC,eAAe,CAArB;;AAEP,AAAO,IAAMC,QAAQ,EAAd;;AAEP,AAAO,IAAMC,WAAW,OAAOC,MAAP,KAAgB,WAAhB,GAA8BA,OAAOC,GAAP,CAAW,YAAX,CAA9B,GAAyD,eAA1E;;;AAGP,AAAO,IAAMC,sBAAsB;UAC1B,CAD0B,EACvBC,cAAa,CADU,EACPC,aAAY,CADL,EACQC,aAAY,CADpB,EACuBC,MAAK,CAD5B,EAC+BC,UAAS,CADxC;eAErB,CAFqB,EAElBC,YAAW,CAFO,EAEJC,cAAa,CAFT,EAEYC,YAAW,CAFvB,EAE0BC,WAAU,CAFpC,EAEuCC,YAAW,CAFlD;UAG1B,CAH0B,EAGvBC,OAAM,CAHiB,EAGdC,SAAQ,CAHM,EAGHC,eAAc,CAHX,EAGcC,QAAO,CAHrB,EAGwBC,QAAO,CAH/B,EAGkCC,MAAK;CAHnE;;;AAOP,AAAO,IAAMC,sBAAsB,EAAEC,MAAK,CAAP,EAAUC,OAAM,CAAhB,EAAmBC,OAAM,CAAzB,EAA4BC,MAAK,CAAjC,EAAoCC,QAAO,CAA3C,EAA8CC,QAAO,CAArD,EAA5B;;ACjBP;;;;;;;AAOA,AAAO,SAASC,iBAAT,CAA2BC,SAA3B,EAAsCzE,GAAtC,EAA2C0E,SAA3C,EAAsD;KACxDC,OAAO3E,IAAIuB,KAAJ,CAAU,GAAV,CAAX;QACO,UAASqD,CAAT,EAAY;MACdC,IAAID,KAAKA,EAAEE,MAAP,IAAiB,IAAzB;MACCC,QAAQ,EADT;MAEC5D,MAAM4D,KAFP;MAGCC,IAAIvD,SAASiD,SAAT,IAAsBpD,MAAMsD,CAAN,EAASF,SAAT,CAAtB,GAA4CG,EAAEhF,QAAF,GAAcgF,EAAEI,IAAF,CAAOC,KAAP,CAAa,UAAb,IAA2BL,EAAEM,OAA7B,GAAuCN,EAAEO,KAAvD,GAAgER,CAHjH;MAICrE,IAAI,CAJL;SAKQA,IAAEoE,KAAKlE,MAAL,GAAY,CAAtB,EAAyBF,GAAzB,EAA8B;SACvBY,IAAIwD,KAAKpE,CAAL,CAAJ,MAAiBY,IAAIwD,KAAKpE,CAAL,CAAJ,IAAe,CAACA,CAAD,IAAMkE,UAAUM,KAAV,CAAgBJ,KAAKpE,CAAL,CAAhB,CAAN,IAAkC,EAAlE,CAAN;;MAEGoE,KAAKpE,CAAL,CAAJ,IAAeyE,CAAf;YACUK,QAAV,CAAmBN,KAAnB;EAVD;;;ACPD;;AAEA,IAAIO,QAAQ,EAAZ;;AAEA,AAAO,SAASC,aAAT,CAAuBd,SAAvB,EAAkC;KACpC,CAACA,UAAUe,MAAX,KAAsBf,UAAUe,MAAV,GAAmB,IAAzC,KAAkDF,MAAM5E,IAAN,CAAW+D,SAAX,KAAuB,CAA7E,EAAgF;GAC9EzD,QAAQyE,iBAAR,IAA6BrD,KAA9B,EAAqCsD,QAArC;;;;AAKF,AAAO,SAASA,QAAT,GAAoB;KACtB5E,UAAJ;KAAO6E,OAAOL,KAAd;SACQ,EAAR;QACSxE,IAAI6E,KAAKhF,GAAL,EAAb,EAA2B;MACtBG,EAAE0E,MAAN,EAAcI,gBAAgB9E,CAAhB;;;;ACdhB;;;;;;AAMA,AAAO,SAAS+E,qBAAT,CAA+B5E,KAA/B,EAAsC;MACxCpB,WAAWoB,SAASA,MAAMpB,QAA9B;SACOA,YAAY2B,WAAW3B,QAAX,CAAZ,IAAoC,EAAEA,SAASiG,SAAT,IAAsBjG,SAASiG,SAAT,CAAmBC,MAA3C,CAA3C;;;;;;;AASD,AAAO,SAASC,wBAAT,CAAkC/E,KAAlC,EAAyCgF,OAAzC,EAAkD;SACjDhF,MAAMpB,QAAN,CAAeqG,aAAajF,KAAb,CAAf,EAAoCgF,WAAWrD,KAA/C,CAAP;;;ACnBD;;;;;AAKA,AAAO,SAASuD,cAAT,CAAwBC,IAAxB,EAA8BnF,KAA9B,EAAqC;KACvCQ,SAASR,KAAT,CAAJ,EAAqB;SACbmF,gBAAgBC,IAAvB;;KAEG5E,SAASR,MAAMpB,QAAf,CAAJ,EAA8B;SACtB,CAACuG,KAAKE,qBAAN,IAA+BC,YAAYH,IAAZ,EAAkBnF,MAAMpB,QAAxB,CAAtC;;KAEG2B,WAAWP,MAAMpB,QAAjB,CAAJ,EAAgC;SACxB,CAACuG,KAAKE,qBAAL,GAA6BF,KAAKE,qBAAL,KAA6BrF,MAAMpB,QAAhE,GAA2E,IAA5E,KAAqFgG,sBAAsB5E,KAAtB,CAA5F;;;;AAKF,AAAO,SAASsF,WAAT,CAAqBH,IAArB,EAA2BvG,QAA3B,EAAqC;QACpCuG,KAAKI,kBAAL,KAA0B3G,QAA1B,IAAsCkC,YAAYqE,KAAKvG,QAAjB,MAA6BkC,YAAYlC,QAAZ,CAA1E;;;;;;;;;;AAWD,AAAO,SAASqG,YAAT,CAAsBjF,KAAtB,EAA6B;KAC/BG,QAAQC,MAAMJ,MAAMnB,UAAZ,CAAZ;OACMC,QAAN,GAAiBkB,MAAMlB,QAAvB;;KAEI0G,eAAexF,MAAMpB,QAAN,CAAe4G,YAAlC;KACIA,YAAJ,EAAkB;OACZ,IAAIlG,CAAT,IAAckG,YAAd,EAA4B;OACvBrF,MAAMb,CAAN,MAAWQ,SAAf,EAA0B;UACnBR,CAAN,IAAWkG,aAAalG,CAAb,CAAX;;;;;QAKIa,KAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxCD;AACA,AAAO,SAASsF,UAAT,CAAoBN,IAApB,EAA0B;KAC5BtF,IAAIsF,KAAKO,UAAb;KACI7F,CAAJ,EAAOA,EAAE8F,WAAF,CAAcR,IAAd;;;;;;;;;;;;AAaR,AAAO,SAASS,WAAT,CAAqBT,IAArB,EAA2BU,IAA3B,EAAiCC,GAAjC,EAAsC3B,KAAtC,EAA6C4B,KAA7C,EAAoD;;KAEtDF,SAAO,WAAX,EAAwBA,OAAO,OAAP;;KAEpBA,SAAO,OAAP,IAAkB1B,KAAlB,IAA2B,QAAOA,KAAP,yCAAOA,KAAP,OAAe,QAA9C,EAAwD;UAC/C1D,gBAAgB0D,KAAhB,CAAR;;;KAGG0B,SAAO,KAAX,EAAkB;;EAAlB,MAGK,IAAIA,SAAO,OAAP,IAAkB,CAACE,KAAvB,EAA8B;OAC7BC,SAAL,GAAiB7B,SAAS,EAA1B;EADI,MAGA,IAAI0B,SAAO,OAAX,EAAoB;MACpB,CAAC1B,KAAD,IAAU3D,SAAS2D,KAAT,CAAV,IAA6B3D,SAASsF,GAAT,CAAjC,EAAgD;QAC1CG,KAAL,CAAWC,OAAX,GAAqB/B,SAAS,EAA9B;;MAEGA,SAAS,QAAOA,KAAP,yCAAOA,KAAP,OAAe,QAA5B,EAAsC;OACjC,CAAC3D,SAASsF,GAAT,CAAL,EAAoB;SACd,IAAIxG,CAAT,IAAcwG,GAAd;SAAuB,EAAExG,KAAK6E,KAAP,CAAJ,EAAmBgB,KAAKc,KAAL,CAAW3G,CAAX,IAAgB,EAAhB;;;QAElC,IAAIA,EAAT,IAAc6E,KAAd,EAAqB;SACf8B,KAAL,CAAW3G,EAAX,IAAgB,OAAO6E,MAAM7E,EAAN,CAAP,KAAkB,QAAlB,IAA8B,CAACyC,oBAAoBzC,EAApB,CAA/B,GAAyD6E,MAAM7E,EAAN,IAAS,IAAlE,GAA0E6E,MAAM7E,EAAN,CAA1F;;;EATE,MAaA,IAAIuG,SAAO,yBAAX,EAAsC;MACtC1B,KAAJ,EAAWgB,KAAKgB,SAAL,GAAiBhC,MAAMiC,MAAN,IAAgB,EAAjC;EADP,MAGA,IAAIP,KAAK,CAAL,KAAS,GAAT,IAAgBA,KAAK,CAAL,KAAS,GAA7B,EAAkC;MAClCQ,IAAIlB,KAAKmB,UAAL,KAAoBnB,KAAKmB,UAAL,GAAkB,EAAtC,CAAR;SACOxF,YAAY+E,KAAKU,SAAL,CAAe,CAAf,CAAZ,CAAP;;;MAGIpC,KAAJ,EAAW;OACN,CAACkC,EAAER,IAAF,CAAL,EAAcV,KAAKqB,gBAAL,CAAsBX,IAAtB,EAA4BY,UAA5B,EAAwC,CAAC,CAACzD,oBAAoB6C,IAApB,CAA1C;GADf,MAGK,IAAIQ,EAAER,IAAF,CAAJ,EAAa;QACZa,mBAAL,CAAyBb,IAAzB,EAA+BY,UAA/B,EAA2C,CAAC,CAACzD,oBAAoB6C,IAApB,CAA7C;;IAECA,IAAF,IAAU1B,KAAV;EAXI,MAaA,IAAI0B,SAAO,MAAP,IAAiBA,SAAO,MAAxB,IAAkC,CAACE,KAAnC,IAA4CF,QAAQV,IAAxD,EAA8D;cACtDA,IAAZ,EAAkBU,IAAlB,EAAwB1B,SAAO,IAAP,GAAc,EAAd,GAAmBA,KAA3C;MACIA,SAAO,IAAP,IAAeA,UAAQ,KAA3B,EAAkCgB,KAAKwB,eAAL,CAAqBd,IAArB;EAF9B,MAIA;MACAe,KAAKb,SAASF,KAAK5B,KAAL,CAAW,eAAX,CAAlB;MACIE,SAAO,IAAP,IAAeA,UAAQ,KAA3B,EAAkC;OAC7ByC,EAAJ,EAAQzB,KAAK0B,iBAAL,CAAuB,8BAAvB,EAAuD/F,YAAY8F,GAAG,CAAH,CAAZ,CAAvD,EAAR,KACKzB,KAAKwB,eAAL,CAAqBd,IAArB;GAFN,MAIK,IAAI,QAAO1B,KAAP,yCAAOA,KAAP,OAAe,QAAf,IAA2B,CAAC5D,WAAW4D,KAAX,CAAhC,EAAmD;OACnDyC,EAAJ,EAAQzB,KAAK2B,cAAL,CAAoB,8BAApB,EAAoDhG,YAAY8F,GAAG,CAAH,CAAZ,CAApD,EAAwEzC,KAAxE,EAAR,KACKgB,KAAK4B,YAAL,CAAkBlB,IAAlB,EAAwB1B,KAAxB;;;;;;;;AASR,SAAS6C,WAAT,CAAqB7B,IAArB,EAA2BU,IAA3B,EAAiC1B,KAAjC,EAAwC;KACnC;OACE0B,IAAL,IAAa1B,KAAb;EADD,CAEE,OAAOR,CAAP,EAAU;;;;;;AAOb,SAAS8C,UAAT,CAAoB9C,CAApB,EAAuB;QACf,KAAK2C,UAAL,CAAgB3C,EAAEK,IAAlB,EAAwBjE,QAAQkH,KAAR,IAAiBlH,QAAQkH,KAAR,CAActD,CAAd,CAAjB,IAAqCA,CAA7D,CAAP;;;AC/FD;;AAEA,IAAMuD,QAAQ,EAAd;;AAEA,AAAO,SAASC,WAAT,CAAqBhC,IAArB,EAA2B;YACtBA,IAAX;;KAEIA,gBAAgBiC,OAApB,EAA6B;OACvBC,UAAL,GAAkBlC,KAAKE,qBAAL,GAA6B,IAA/C;;MAEIQ,OAAOV,KAAKI,kBAAL,IAA2BzE,YAAYqE,KAAKvG,QAAjB,CAAtC;GACCsI,MAAMrB,IAAN,MAAgBqB,MAAMrB,IAAN,IAAc,EAA9B,CAAD,EAAoCpG,IAApC,CAAyC0F,IAAzC;;;;AAKF,AAAO,SAASmC,UAAT,CAAoB1I,QAApB,EAA8BmH,KAA9B,EAAqC;KACvCF,OAAO/E,YAAYlC,QAAZ,CAAX;KACCuG,OAAO+B,MAAMrB,IAAN,KAAeqB,MAAMrB,IAAN,EAAYnG,GAAZ,EAAf,KAAqCqG,QAAQwB,SAASC,eAAT,CAAyB,4BAAzB,EAAuD5I,QAAvD,CAAR,GAA2E2I,SAASE,aAAT,CAAuB7I,QAAvB,CAAhH,CADR;MAEK2G,kBAAL,GAA0BM,IAA1B;QACOV,IAAP;;;ACZD;AACA,AAAO,IAAMuC,SAAS,EAAf;;;AAGP,AAAO,IAAIC,YAAY,CAAhB;;;AAGP,IAAIC,YAAY,KAAhB;;;AAGA,IAAIC,YAAY,KAAhB;;;AAGA,AAAO,SAASC,WAAT,GAAuB;KACzBpH,UAAJ;QACQA,IAAEgH,OAAOhI,GAAP,EAAV,EAAyB;MACpBK,QAAQgI,UAAZ,EAAwBhI,QAAQgI,UAAR,CAAmBrH,CAAnB;MACpBA,EAAEsH,iBAAN,EAAyBtH,EAAEsH,iBAAF;;;;;;;;;;AAW3B,AAAO,SAASC,IAAT,CAAcC,GAAd,EAAmBlI,KAAnB,EAA0BgF,OAA1B,EAAmCmD,QAAnC,EAA6CC,MAA7C,EAAqDC,aAArD,EAAoE;;KAEtE,CAACV,WAAL,EAAkB;;cAELS,UAAU,OAAOA,OAAOE,eAAd,KAAgC,WAAtD;;;cAGYJ,OAAO,EAAEtG,YAAYsG,GAAd,CAAnB;;;KAGGK,MAAMC,MAAMN,GAAN,EAAWlI,KAAX,EAAkBgF,OAAlB,EAA2BmD,QAA3B,CAAV;;;KAGIC,UAAUG,IAAI7C,UAAJ,KAAiB0C,MAA/B,EAAuCA,OAAOK,WAAP,CAAmBF,GAAnB;;;KAGnC,IAAGZ,SAAP,EAAkB;cACL,KAAZ;;MAEI,CAACU,aAAL,EAAoBP;;;QAGdS,GAAP;;;AAID,SAASC,KAAT,CAAeN,GAAf,EAAoBlI,KAApB,EAA2BgF,OAA3B,EAAoCmD,QAApC,EAA8C;KACzCO,MAAM1I,SAASA,MAAMnB,UAAf,IAA6BmB,MAAMnB,UAAN,CAAiB6J,GAAxD;;;QAIO9D,sBAAsB5E,KAAtB,CAAP,EAAqC;UAC5B+E,yBAAyB/E,KAAzB,EAAgCgF,OAAhC,CAAR;;;;KAKGhF,SAAO,IAAX,EAAiBA,QAAQ,EAAR;;;KAIbQ,SAASR,KAAT,CAAJ,EAAqB;;MAEhBkI,OAAOA,eAAe9C,IAAtB,IAA8B8C,IAAIxC,UAAtC,EAAkD;OAC7CwC,IAAIS,SAAJ,IAAe3I,KAAnB,EAA0B;QACrB2I,SAAJ,GAAgB3I,KAAhB;;GAFF,MAKK;;OAEAkI,GAAJ,EAASU,kBAAkBV,GAAlB;SACHX,SAASsB,cAAT,CAAwB7I,KAAxB,CAAN;;;SAGMkI,GAAP;;;;KAKG3H,WAAWP,MAAMpB,QAAjB,CAAJ,EAAgC;SACxBkK,wBAAwBZ,GAAxB,EAA6BlI,KAA7B,EAAoCgF,OAApC,EAA6CmD,QAA7C,CAAP;;;KAIGY,MAAMb,GAAV;KACCtJ,WAAWgB,OAAOI,MAAMpB,QAAb,CADZ;;eAEegJ,SAFf;KAGCoB,YAAYhJ,MAAMlB,QAHnB;;;;aAQYF,aAAW,KAAX,GAAmB,IAAnB,GAA0BA,aAAW,eAAX,GAA6B,KAA7B,GAAqCgJ,SAA3E;;KAGI,CAACM,GAAL,EAAU;;;QAGHZ,WAAW1I,QAAX,EAAqBgJ,SAArB,CAAN;EAHD,MAKK,IAAI,CAACtC,YAAY4C,GAAZ,EAAiBtJ,QAAjB,CAAL,EAAiC;;;;;QAK/B0I,WAAW1I,QAAX,EAAqBgJ,SAArB,CAAN;;;SAGOM,IAAIe,UAAX;OAA2BR,WAAJ,CAAgBP,IAAIe,UAApB;GARc;MAWjCf,IAAIxC,UAAR,EAAoBwC,IAAIxC,UAAJ,CAAewD,YAAf,CAA4BH,GAA5B,EAAiCb,GAAjC;;;oBAGFA,GAAlB;;;KAIGiB,KAAKJ,IAAIE,UAAb;KACC9I,QAAQ4I,IAAInH,QAAJ,CADT;;;;KAKI,CAACzB,KAAL,EAAY;MACPyB,QAAJ,IAAgBzB,QAAQ,EAAxB;OACK,IAAIiJ,IAAEL,IAAIlK,UAAV,EAAsBS,IAAE8J,EAAE5J,MAA/B,EAAuCF,GAAvC;SAAoD8J,EAAE9J,CAAF,EAAKuG,IAAX,IAAmBuD,EAAE9J,CAAF,EAAK6E,KAAxB;;;;;KAI3C,CAAC0D,SAAD,IAAcmB,SAAd,IAA2BA,UAAUxJ,MAAV,KAAmB,CAA9C,IAAmD,OAAOwJ,UAAU,CAAV,CAAP,KAAsB,QAAzE,IAAqFG,EAArF,IAA2FA,cAAc/D,IAAzG,IAAiH,CAAC+D,GAAGE,WAAzH,EAAsI;MACjIF,GAAGR,SAAH,IAAcK,UAAU,CAAV,CAAlB,EAAgC;MAC5BL,SAAH,GAAeK,UAAU,CAAV,CAAf;;;;MAIG,IAAIA,aAAaA,UAAUxJ,MAAvB,IAAiC2J,EAArC,EAAyC;iBAC/BJ,GAAd,EAAmBC,SAAnB,EAA8BhE,OAA9B,EAAuCmD,QAAvC,EAAiD,CAAC,CAAChI,MAAMmJ,uBAAzD;;;;gBAKcP,GAAf,EAAoB/I,MAAMnB,UAA1B,EAAsCsB,KAAtC;;;KAIIuI,GAAJ,EAAS;GACPvI,MAAMuI,GAAN,GAAYA,GAAb,EAAkBK,GAAlB;;;aAGWQ,WAAZ;;QAEOR,GAAP;;;;;;;;;;AAWD,SAASS,aAAT,CAAuBtB,GAAvB,EAA4Bc,SAA5B,EAAuChE,OAAvC,EAAgDmD,QAAhD,EAA0DsB,MAA1D,EAAkE;KAC7DC,mBAAmBxB,IAAIyB,UAA3B;KACC7K,WAAW,EADZ;KAEC8K,QAAQ,EAFT;KAGCC,WAAW,CAHZ;KAICC,MAAM,CAJP;KAKCC,MAAML,iBAAiBlK,MALxB;KAMCwK,cAAc,CANf;KAOCC,OAAOjB,aAAaA,UAAUxJ,MAP/B;KAQC0K,UARD;KAQIxJ,UARJ;KAQOyJ,eARP;KAQe/K,cARf;;KAUI2K,GAAJ,EAAS;OACH,IAAIzK,IAAE,CAAX,EAAcA,IAAEyK,GAAhB,EAAqBzK,GAArB,EAA0B;OACrBF,SAAQsK,iBAAiBpK,CAAjB,CAAZ;OACCa,QAAQf,OAAMwC,QAAN,CADT;OAEC7C,MAAMkL,OAAQ,CAACvJ,IAAItB,OAAMiI,UAAX,IAAyB3G,EAAE0J,KAA3B,GAAmCjK,QAAQA,MAAMpB,GAAd,GAAoB,IAA/D,GAAuE,IAF9E;OAGIA,OAAK,IAAT,EAAe;;UAERA,GAAN,IAAaK,MAAb;IAFD,MAIK,IAAIyI,aAAa4B,MAAb,IAAuBtJ,KAAvB,IAAgCf,kBAAiBgG,IAArD,EAA2D;aACtD4E,aAAT,IAA0B5K,MAA1B;;;;;KAKC6K,IAAJ,EAAU;OACJ,IAAI3K,KAAE,CAAX,EAAcA,KAAE2K,IAAhB,EAAsB3K,IAAtB,EAA2B;YACjB0J,UAAU1J,EAAV,CAAT;WACQ,IAAR;;;;;;;OAOIP,OAAMoL,OAAOpL,GAAjB;OACIA,QAAK,IAAT,EAAe;QACV8K,YAAY9K,QAAO6K,KAAvB,EAA8B;aACrBA,MAAM7K,IAAN,CAAR;WACMA,IAAN,IAAae,SAAb;;;;;QAKG,IAAI,CAACV,KAAD,IAAU0K,MAAIE,WAAlB,EAA+B;UAC9BE,IAAEJ,GAAP,EAAYI,IAAEF,WAAd,EAA2BE,GAA3B,EAAgC;UAC3BpL,SAASoL,CAAT,CAAJ;UACIxJ,KAAKwE,eAAexE,CAAf,EAAkByJ,MAAlB,CAAT,EAAoC;eAC3BzJ,CAAR;gBACSwJ,CAAT,IAAcpK,SAAd;WACIoK,MAAIF,cAAY,CAApB,EAAuBA;WACnBE,MAAIJ,GAAR,EAAaA;;;;;;;WAORtB,MAAMpJ,KAAN,EAAa+K,MAAb,EAAqBnF,OAArB,EAA8BmD,QAA9B,CAAR;;OAEI/I,SAASA,UAAQ8I,GAArB,EAA0B;QACrB5I,MAAGyK,GAAP,EAAY;SACPtB,WAAJ,CAAgBrJ,KAAhB;KADD,MAGK,IAAIA,UAAQsK,iBAAiBpK,EAAjB,CAAZ,EAAiC;SACjCF,UAAQsK,iBAAiBpK,KAAE,CAAnB,CAAZ,EAAmC;iBACvBoK,iBAAiBpK,EAAjB,CAAX;;SAEG+K,YAAJ,CAAiBjL,KAAjB,EAAwBsK,iBAAiBpK,EAAjB,KAAuB,IAA/C;;;;;;KAOAuK,QAAJ,EAAc;OACR,IAAIvK,GAAT,IAAcsK,KAAd;OAAyBA,MAAMtK,GAAN,CAAJ,EAAcsJ,kBAAkBgB,MAAMtK,GAAN,CAAlB;;;;;QAI7BwK,OAAKE,WAAZ,EAAyB;UAChBlL,SAASkL,aAAT,CAAR;MACI5K,KAAJ,EAAWwJ,kBAAkBxJ,KAAlB;;;;;;;;AAUb,AAAO,SAASwJ,iBAAT,CAA2BzD,IAA3B,EAAiCmF,WAAjC,EAA8C;KAChD9G,YAAY2B,KAAKkC,UAArB;KACI7D,SAAJ,EAAe;;mBAEGA,SAAjB,EAA4B,CAAC8G,WAA7B;EAFD,MAIK;;;MAGAnF,KAAKvD,QAAL,KAAkBuD,KAAKvD,QAAL,EAAe8G,GAArC,EAA0CvD,KAAKvD,QAAL,EAAe8G,GAAf,CAAmB,IAAnB;;MAEtC,CAAC4B,WAAL,EAAkB;eACLnF,IAAZ;;;;;;MAMGzE,UAAJ;SACQA,IAAEyE,KAAKoF,SAAf;qBAA6C7J,CAAlB,EAAqB4J,WAArB;;;;;;;;;;AAW7B,SAASE,cAAT,CAAwBtC,GAAxB,EAA6BuC,KAA7B,EAAoC3E,GAApC,EAAyC;;KAEpCD,aAAJ;MACKA,IAAL,IAAaC,GAAb,EAAkB;MACb,EAAE2E,SAAS5E,QAAQ4E,KAAnB,KAA6B3E,IAAID,IAAJ,KAAW,IAA5C,EAAkD;eACrCqC,GAAZ,EAAiBrC,IAAjB,EAAuBC,IAAID,IAAJ,CAAvB,EAAkCC,IAAID,IAAJ,IAAY/F,SAA9C,EAAyD8H,SAAzD;;;;;KAKE6C,KAAJ,EAAW;OACL5E,IAAL,IAAa4E,KAAb,EAAoB;OACf5E,SAAO,UAAP,IAAqBA,SAAO,WAA5B,KAA4C,EAAEA,QAAQC,GAAV,KAAkB2E,MAAM5E,IAAN,OAAeA,SAAO,OAAP,IAAkBA,SAAO,SAAzB,GAAqCqC,IAAIrC,IAAJ,CAArC,GAAiDC,IAAID,IAAJ,CAAhE,CAA9D,CAAJ,EAA+I;gBAClIqC,GAAZ,EAAiBrC,IAAjB,EAAuBC,IAAID,IAAJ,CAAvB,EAAkCC,IAAID,IAAJ,IAAY4E,MAAM5E,IAAN,CAA9C,EAA2D+B,SAA3D;;;;;;AC3TJ;;;;AAIA,IAAM8C,aAAa,EAAnB;;AAGA,AAAO,SAASC,gBAAT,CAA0BnH,SAA1B,EAAqC;KACvCqC,OAAOrC,UAAUoH,WAAV,CAAsB/E,IAAjC;KACCnB,OAAOgG,WAAW7E,IAAX,CADR;KAEInB,IAAJ,EAAUA,KAAKjF,IAAL,CAAU+D,SAAV,EAAV,KACKkH,WAAW7E,IAAX,IAAmB,CAACrC,SAAD,CAAnB;;;AAIN,AAAO,SAASqH,eAAT,CAAyBC,IAAzB,EAA+B3K,KAA/B,EAAsC6E,OAAtC,EAA+C;KACjD+F,OAAO,IAAID,IAAJ,CAAS3K,KAAT,EAAgB6E,OAAhB,CAAX;KACCN,OAAOgG,WAAWI,KAAKjF,IAAhB,CADR;WAEUmF,IAAV,CAAeD,IAAf,EAAqB5K,KAArB,EAA4B6E,OAA5B;KACIN,IAAJ,EAAU;OACJ,IAAIpF,IAAEoF,KAAKlF,MAAhB,EAAwBF,GAAxB,GAA+B;OAC1BoF,KAAKpF,CAAL,EAAQsL,WAAR,KAAsBE,IAA1B,EAAgC;SAC1BG,QAAL,GAAgBvG,KAAKpF,CAAL,EAAQ2L,QAAxB;SACKC,MAAL,CAAY5L,CAAZ,EAAe,CAAf;;;;;QAKIyL,IAAP;;;AClBD;;;;;;AAMA,AAAO,SAASI,iBAAT,CAA2B3H,SAA3B,EAAsCrD,KAAtC,EAA6CiL,IAA7C,EAAmDpG,OAAnD,EAA4DmD,QAA5D,EAAsE;KACxE3E,UAAU6H,QAAd,EAAwB;WACdA,QAAV,GAAqB,IAArB;;KAEK7H,UAAU8H,KAAV,GAAkBnL,MAAMuI,GAA7B,EAAmC,OAAOvI,MAAMuI,GAAb;KAC9BlF,UAAU4G,KAAV,GAAkBjK,MAAMpB,GAA7B,EAAmC,OAAOoB,MAAMpB,GAAb;;KAE/B,CAACyE,UAAU+H,IAAX,IAAmBpD,QAAvB,EAAiC;MAC5B3E,UAAUgI,kBAAd,EAAkChI,UAAUgI,kBAAV;EADnC,MAGK,IAAIhI,UAAUiI,yBAAd,EAAyC;YACnCA,yBAAV,CAAoCtL,KAApC,EAA2C6E,OAA3C;;;KAGGA,WAAWA,YAAUxB,UAAUwB,OAAnC,EAA4C;MACvC,CAACxB,UAAUkI,WAAf,EAA4BlI,UAAUkI,WAAV,GAAwBlI,UAAUwB,OAAlC;YAClBA,OAAV,GAAoBA,OAApB;;;KAGG,CAACxB,UAAUmI,SAAf,EAA0BnI,UAAUmI,SAAV,GAAsBnI,UAAUrD,KAAhC;WAChBA,KAAV,GAAkBA,KAAlB;;WAEUkL,QAAV,GAAqB,KAArB;;KAEID,SAAO7J,SAAX,EAAsB;MACjB6J,SAAO5J,WAAP,IAAsBzB,QAAQ6L,oBAAR,KAA+B,KAArD,IAA8D,CAACpI,UAAU+H,IAA7E,EAAmF;mBAClE/H,SAAhB,EAA2BhC,WAA3B,EAAwC2G,QAAxC;GADD,MAGK;iBACU3E,SAAd;;;;KAIEA,UAAU8H,KAAd,EAAqB9H,UAAU8H,KAAV,CAAgB9H,SAAhB;;;;;;;;;AAWtB,AAAO,SAASmB,eAAT,CAAyBnB,SAAzB,EAAoC4H,IAApC,EAA0CjD,QAA1C,EAAoD0D,OAApD,EAA6D;KAC/DrI,UAAU6H,QAAd,EAAwB;;KAEpBS,aAAJ;KAAUC,iBAAV;KACC5L,QAAQqD,UAAUrD,KADnB;KAEC2D,QAAQN,UAAUM,KAFnB;KAGCkB,UAAUxB,UAAUwB,OAHrB;KAICgH,gBAAgBxI,UAAUmI,SAAV,IAAuBxL,KAJxC;KAKC8L,gBAAgBzI,UAAU0I,SAAV,IAAuBpI,KALxC;KAMCqI,kBAAkB3I,UAAUkI,WAAV,IAAyB1G,OAN5C;KAOCoH,WAAW5I,UAAU+H,IAPtB;KAQCN,WAAWzH,UAAUyH,QARtB;KASCoB,cAAcD,YAAYnB,QAT3B;KAUCqB,wBAAwB9I,UAAU6D,UAVnC;KAWC0D,aAXD;KAWOwB,cAXP;;;KAcIH,QAAJ,EAAc;YACHjM,KAAV,GAAkB6L,aAAlB;YACUlI,KAAV,GAAkBmI,aAAlB;YACUjH,OAAV,GAAoBmH,eAApB;MACIf,SAAO3J,YAAP,IACA+B,UAAUgJ,qBADV,IAEAhJ,UAAUgJ,qBAAV,CAAgCrM,KAAhC,EAAuC2D,KAAvC,EAA8CkB,OAA9C,MAA2D,KAF/D,EAEsE;UAC9D,IAAP;GAHD,MAKK,IAAIxB,UAAUiJ,mBAAd,EAAmC;aAC7BA,mBAAV,CAA8BtM,KAA9B,EAAqC2D,KAArC,EAA4CkB,OAA5C;;YAES7E,KAAV,GAAkBA,KAAlB;YACU2D,KAAV,GAAkBA,KAAlB;YACUkB,OAAV,GAAoBA,OAApB;;;WAGS2G,SAAV,GAAsBnI,UAAU0I,SAAV,GAAsB1I,UAAUkI,WAAV,GAAwBlI,UAAUyH,QAAV,GAAqB,IAAzF;WACU1G,MAAV,GAAmB,KAAnB;;KAEI,CAACuH,IAAL,EAAW;MACNtI,UAAUsB,MAAd,EAAsBiH,WAAWvI,UAAUsB,MAAV,CAAiB3E,KAAjB,EAAwB2D,KAAxB,EAA+BkB,OAA/B,CAAX;;;MAGlBxB,UAAUkJ,eAAd,EAA+B;aACpBzM,OAAOG,MAAM4E,OAAN,CAAP,EAAuBxB,UAAUkJ,eAAV,EAAvB,CAAV;;;SAGM9H,sBAAsBmH,QAAtB,CAAP,EAAwC;cAC5BhH,yBAAyBgH,QAAzB,EAAmC/G,OAAnC,CAAX;;;MAGG2H,iBAAiBZ,YAAYA,SAASnN,QAA1C;MACCgO,kBADD;MACYrB,aADZ;;MAGIhL,WAAWoM,cAAX,CAAJ,EAAgC;;;OAG3BE,aAAa5H,aAAa8G,QAAb,CAAjB;UACOO,qBAAP;;OAEIvB,QAAQA,KAAKH,WAAL,KAAmB+B,cAA3B,IAA6CE,WAAW9N,GAAX,IAAgBgM,KAAKX,KAAtE,EAA6E;sBAC1DW,IAAlB,EAAwB8B,UAAxB,EAAoCrL,WAApC,EAAiDwD,OAAjD;IADD,MAGK;gBACQ+F,IAAZ;;WAEOF,gBAAgB8B,cAAhB,EAAgCE,UAAhC,EAA4C7H,OAA5C,CAAP;SACKiG,QAAL,GAAgBF,KAAKE,QAAL,IAAiBA,QAAjC;SACK6B,gBAAL,GAAwBtJ,SAAxB;cACU6D,UAAV,GAAuB0D,IAAvB;sBACkBA,IAAlB,EAAwB8B,UAAxB,EAAoCtL,SAApC,EAA+CyD,OAA/C;oBACgB+F,IAAhB,EAAsBvJ,WAAtB,EAAmC2G,QAAnC,EAA6C,IAA7C;;;UAGM4C,KAAKQ,IAAZ;GApBD,MAsBK;WACIc,WAAR;;;eAGYC,qBAAZ;OACIM,SAAJ,EAAe;YACNpJ,UAAU6D,UAAV,GAAuB,IAA/B;;;OAGGgF,eAAejB,SAAO5J,WAA1B,EAAuC;QAClC+K,KAAJ,EAAWA,MAAMlF,UAAN,GAAmB,IAAnB;WACJY,KAAKsE,KAAL,EAAYR,QAAZ,EAAsB/G,OAAtB,EAA+BmD,YAAY,CAACiE,QAA5C,EAAsDC,eAAeA,YAAY3G,UAAjF,EAA6F,IAA7F,CAAP;;;;MAIE2G,eAAed,SAAOc,WAAtB,IAAqCtB,SAAOuB,qBAAhD,EAAuE;OAClES,aAAaV,YAAY3G,UAA7B;OACIqH,cAAcxB,SAAOwB,UAAzB,EAAqC;eACzB7D,YAAX,CAAwBqC,IAAxB,EAA8Bc,WAA9B;;QAEI,CAACO,SAAL,EAAgB;iBACHvF,UAAZ,GAAyB,IAAzB;uBACkBgF,WAAlB;;;;;MAKCO,SAAJ,EAAe;oBACGA,SAAjB,EAA4BrB,SAAOc,WAAnC;;;YAGSd,IAAV,GAAiBA,IAAjB;MACIA,QAAQ,CAACM,OAAb,EAAsB;OACjBmB,eAAexJ,SAAnB;OACCI,IAAIJ,SADL;UAEQI,IAAEA,EAAEkJ,gBAAZ,EAA+B;KAC7BE,eAAepJ,CAAhB,EAAmB2H,IAAnB,GAA0BA,IAA1B;;QAEIlE,UAAL,GAAkB2F,YAAlB;QACK3H,qBAAL,GAA6B2H,aAAapC,WAA1C;;;;KAIE,CAACwB,QAAD,IAAajE,QAAjB,EAA2B;SACnB8E,OAAP,CAAezJ,SAAf;EADD,MAGK,IAAI,CAACsI,IAAL,EAAW;MACXtI,UAAU0J,kBAAd,EAAkC;aACvBA,kBAAV,CAA6BlB,aAA7B,EAA4CC,aAA5C,EAA2DE,eAA3D;;MAEGpM,QAAQoN,WAAZ,EAAyBpN,QAAQoN,WAAR,CAAoB3J,SAApB;;;KAGtB4J,KAAK5J,UAAU6J,gBAAnB;KAAqCC,WAArC;KACIF,EAAJ,EAAQ,OAASE,KAAKF,GAAG1N,GAAH,EAAd;KAA6BsL,IAAH,CAAQxH,SAAR;EAElC,IAAI,CAACmE,SAAD,IAAc,CAACkE,OAAnB,EAA4B/D;;;;;;;;;AAW7B,AAAO,SAASgB,uBAAT,CAAiCZ,GAAjC,EAAsClI,KAAtC,EAA6CgF,OAA7C,EAAsDmD,QAAtD,EAAgE;KAClEzH,IAAIwH,OAAOA,IAAIb,UAAnB;KACCkG,oBAAoB7M,CADrB;KAEC8M,SAAStF,GAFV;KAGCuF,gBAAgB/M,KAAKwH,IAAI7C,qBAAJ,KAA4BrF,MAAMpB,QAHxD;KAIC8O,UAAUD,aAJX;KAKCtN,QAAQ8E,aAAajF,KAAb,CALT;QAMOU,KAAK,CAACgN,OAAN,KAAkBhN,IAAEA,EAAEoM,gBAAtB,CAAP,EAAgD;YACrCpM,EAAEkK,WAAF,KAAgB5K,MAAMpB,QAAhC;;;KAGG8B,KAAKgN,OAAL,KAAiB,CAACvF,QAAD,IAAazH,EAAE2G,UAAhC,CAAJ,EAAiD;oBAC9B3G,CAAlB,EAAqBP,KAArB,EAA4BuB,YAA5B,EAA0CsD,OAA1C,EAAmDmD,QAAnD;QACMzH,EAAE6K,IAAR;EAFD,MAIK;MACAgC,qBAAqB,CAACE,aAA1B,EAAyC;oBACvBF,iBAAjB,EAAoC,IAApC;SACMC,SAAS,IAAf;;;MAGG3C,gBAAgB7K,MAAMpB,QAAtB,EAAgCuB,KAAhC,EAAuC6E,OAAvC,CAAJ;MACIkD,OAAO,CAACxH,EAAEuK,QAAd,EAAwB;KACrBA,QAAF,GAAa/C,GAAb;;YAES,IAAT;;oBAEiBxH,CAAlB,EAAqBP,KAArB,EAA4BqB,WAA5B,EAAyCwD,OAAzC,EAAkDmD,QAAlD;QACMzH,EAAE6K,IAAR;;MAEIiC,UAAUtF,QAAMsF,MAApB,EAA4B;UACpBnG,UAAP,GAAoB,IAApB;qBACkBmG,MAAlB;;;;QAIKtF,GAAP;;;;;;;;AAUD,AAAO,SAASyF,gBAAT,CAA0BnK,SAA1B,EAAqCoK,MAArC,EAA6C;KAC/C7N,QAAQ8N,aAAZ,EAA2B9N,QAAQ8N,aAAR,CAAsBrK,SAAtB;;;KAGvB+H,OAAO/H,UAAU+H,IAArB;;WAEUF,QAAV,GAAqB,IAArB;;KAEI7H,UAAUsK,oBAAd,EAAoCtK,UAAUsK,oBAAV;;WAE1BvC,IAAV,GAAiB,IAAjB;;;KAGIwC,QAAQvK,UAAU6D,UAAtB;KACI0G,KAAJ,EAAW;mBACOA,KAAjB,EAAwBH,MAAxB;EADD,MAGK,IAAIrC,IAAJ,EAAU;MACVA,KAAK3J,QAAL,KAAkB2J,KAAK3J,QAAL,EAAe8G,GAArC,EAA0C6C,KAAK3J,QAAL,EAAe8G,GAAf,CAAmB,IAAnB;;YAEhCuC,QAAV,GAAqBM,IAArB;;MAEIqC,MAAJ,EAAY;cACArC,IAAX;oBACiB/H,SAAjB;;MAEG9C,UAAJ;SACQA,IAAE6K,KAAKhB,SAAf;qBAA6C7J,CAAlB,EAAqB,CAACkN,MAAtB;GAVb;;;KAcXpK,UAAU8H,KAAd,EAAqB9H,UAAU8H,KAAV,CAAgB,IAAhB;KACjB9H,UAAUwK,mBAAd,EAAmCxK,UAAUwK,mBAAV;;;ACnRpC;;;;;;;;;;AAUA,AAAO,SAASC,SAAT,CAAmB9N,KAAnB,EAA0B6E,OAA1B,EAAmC;;MAEpCT,MAAL,GAAc,IAAd;;;;;;MAMKS,OAAL,GAAeA,OAAf;;MAEK7E,KAAL,GAAaA,KAAb;;KAEI,CAAC,KAAK2D,KAAV,EAAiB,KAAKA,KAAL,GAAa,EAAb;;;AAIlB7D,OAAOgO,UAAUpJ,SAAjB,EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAAA,qBAkCjB9F,GAlCiB,EAkCZ0E,SAlCY,EAkCD;MACrB/C,IAAI,KAAKwN,aAAL,KAAuB,KAAKA,aAAL,GAAqB,EAA5C,CAAR;SACOxN,EAAE3B,MAAI0E,SAAN,MAAqB/C,EAAE3B,MAAI0E,SAAN,IAAmBF,kBAAkB,IAAlB,EAAwBxE,GAAxB,EAA6B0E,SAA7B,CAAxC,CAAP;EApC0B;;;;;;SAAA,oBA2ClBK,KA3CkB,EA2CXqK,QA3CW,EA2CD;MACrBpN,IAAI,KAAK+C,KAAb;MACI,CAAC,KAAKoI,SAAV,EAAqB,KAAKA,SAAL,GAAiB9L,MAAMW,CAAN,CAAjB;SACdA,CAAP,EAAUR,WAAWuD,KAAX,IAAoBA,MAAM/C,CAAN,EAAS,KAAKZ,KAAd,CAApB,GAA2C2D,KAArD;MACIqK,QAAJ,EAAc,CAAC,KAAKd,gBAAL,GAAyB,KAAKA,gBAAL,IAAyB,EAAnD,EAAwD5N,IAAxD,CAA6D0O,QAA7D;gBACA,IAAd;EAhD0B;;;;;;YAAA,yBAuDb;kBACG,IAAhB,EAAsB1M,YAAtB;EAxD0B;;;;;;;;;;OAAA,oBAmElB;CAnEV;;AC9BA;;;;;;;;;;;;;;;AAeA,AAAO,SAASqD,QAAT,CAAgB9E,KAAhB,EAAuBoI,MAAvB,EAA+BgG,KAA/B,EAAsC;SACrCnG,KAAKmG,KAAL,EAAYpO,KAAZ,EAAmB,EAAnB,EAAuB,KAAvB,EAA8BoI,MAA9B,CAAP;;;AClBM,SAASiG,IAAT,GAAgB;KAClBA,OAAO,EAAX;MACK,IAAI/O,IAAE,CAAX,EAAcA,IAAE,EAAhB,EAAoBA,GAApB,EAAyB;MACpBgP,SAASC,KAAKD,MAAL,KAAgB,EAAhB,GAAqB,CAAlC;MACIhP,MAAM,CAAN,IAAWA,MAAM,EAAjB,IAAuBA,MAAM,EAA7B,IAAmCA,MAAM,EAA7C,EAAiD;WACxC,GAAR;;UAEO,CAACA,MAAM,EAAN,GAAW,CAAX,GAAgBA,MAAM,EAAN,GAAYgP,SAAS,CAAT,GAAa,CAAzB,GAA8BA,MAA/C,EAAwDE,QAAxD,CAAiE,EAAjE,CAAR;;QAEMH,IAAP;;;AAGD,AAAO,SAASI,SAAT,CAAmBC,KAAnB,EAA0BC,IAA1B,EAAgC;QAC/BD,UAAU,CAAV,GAAcC,IAAd,GAAqBA,OAAO,GAAnC;CAGD,AAAO;;ICdcC;oBACR7P,GAAZ,EAAiB8P,GAAjB,EAAsB;;;OAChB9P,GAAL,GAAWA,GAAX;OACK+P,KAAL,qBAA+B,EAA/B;OACKC,SAAL,GAAiB,CAACF,GAAD,CAAjB;;;qBAGDG,2BAAS;;OAEHD,SAAL,CAAeE,OAAf,CAAwB;UAAM7B,IAAN;GAAxB;;;qBAGD8B,2BAAQC,OAAO;OACTL,KAAL,GAAa,KAAKA,KAAL,CAAWM,MAAX,CAAkB;OAC1Bf,MAD0B;eAAA;cAGnB;GAHC,CAAb;OAKKW,MAAL;;;qBAGDK,+BAAUC,WAAW;OACfR,KAAL,GAAa,KAAKA,KAAL,CAAWS,GAAX,CACZ;uBAAcC,IAAd,IAAoBF,oBAApB;GADY,CAAb;OAGKN,MAAL;;;qBAGDS,yBAAOC,cAAc;OACfZ,KAAL,GAAa,KAAKA,KAAL,CAAWS,GAAX,CAAgB;UAC5BC,SAASE,YAAT,GAAwBF,IAAxB,gBAAqCA,IAArC,IAA2CF,WAAW,CAACE,KAAKF,SAA5D,GAD4B;GAAhB,CAAb;OAGKN,MAAL;;;qBAGDW,2BAAQH,MAAM;OACRV,KAAL,GAAa,KAAKA,KAAL,CAAWc,MAAX,CAAmB;UAAKhM,MAAM4L,IAAX;GAAnB,CAAb;OACKR,MAAL;;;qBAGDa,qBAAKC,YAAYX,OAAO;OAClBL,KAAL,GAAa,KAAKA,KAAL,CAAWS,GAAX,CAAgB;UAC5BC,SAASM,UAAT,GAAsBN,IAAtB,gBAAmCA,IAAnC,IAAyCL,YAAzC,GAD4B;GAAhB,CAAb;OAGKH,MAAL;;;qBAGDe,2CAAiB;OACXjB,KAAL,GAAa,KAAKA,KAAL,CAAWc,MAAX,CAAmB;UAAQ,CAACJ,KAAKF,SAAd;GAAnB,CAAb;OACKN,MAAL;;;;;;IChDmBgB;;;;;;;;sBACpBlL,+BAAgE;MAAvDmL,UAAuD,QAAvDA,UAAuD;MAA3CvB,KAA2C,QAA3CA,KAA2C;MAApCwB,cAAoC,QAApCA,cAAoC;MAApBC,gBAAoB,QAApBA,gBAAoB;;SAE9D;;KAAQ,SAAM,QAAd;;;MACO,SAAM,YAAZ;;;;;KAAA;;cACqCzB,KAAV,EAAiB,MAAjB,CAD3B;;IADD;;;MAIK,SAAM,SAAV;;;;;;QAEK,MAAK,IAAR,EAAa,SAAOuB,cAAY,KAAZ,IAAqB,UAAzC;;;KAFF;OAAA;;;;;;QAMK,MAAK,UAAR,EAAmB,SAAOA,cAAY,QAAZ,IAAwB,UAAlD;;;KANF;OAAA;;;;;;QAUK,MAAK,aAAR,EAAsB,SAAOA,cAAY,WAAZ,IAA2B,UAAxD;;;;IAdH;oBAiBoB,CAAjB,IACD;;MAAQ,SAAM,iBAAd,EAAgC,SAASE,gBAAzC;;;GAnBH;;;;EAFsClC;;ACDxC,IAAMmC,aAAa,EAAnB;AACA,IAAMC,cAAY,EAAlB;;IAEqBC;;;;;;;;;;;;yIACpBC,eAAe,YAAM;qBACc,MAAKpQ,KADnB;OACdqQ,MADc,eACdA,MADc;OACNC,SADM,eACNA,SADM;OACKjB,IADL,eACKA,IADL;OAEnBkB,GAFmB,GAEb,MAAK5M,KAAL,CAAW6M,QAAX,CAAoBC,IAApB,EAFa;;OAGhBF,GAAJ,EAAS;WACDlB,IAAP,EAAakB,GAAb;UACKtM,QAAL,CAAc,EAAEuM,UAAUD,GAAZ,EAAd;IAFD,MAIK;cACMlB,IAAV;;WAIFqB,aAAa,YAAM;sBACK,MAAK1Q,KADV;OACZ2Q,MADY,gBACZA,MADY;OACJtB,IADI,gBACJA,IADI;;UAEXA,IAAP;SACKpL,QAAL,CAAc,EAAEuM,UAAUnB,KAAKL,KAAjB,EAAd;WAGDM,SAAS,aAAK;sBACY,MAAKtP,KADjB;OACP4Q,QADO,gBACPA,QADO;OACGvB,IADH,gBACGA,IADH;;YAEJA,IAAT;KACEwB,cAAF;WAGDC,gBAAgB,aAAK;OAChBtN,EAAEuN,KAAF,KAAUd,UAAd,EAA0B;QACnBZ,IADmB,GACV,MAAKrP,KADK,CACnBqP,IADmB;;UAEpBpL,QAAL,CAAc,EAAEuM,UAAUnB,KAAKL,KAAjB,EAAd;UACKhP,KAAL,CAAWgR,QAAX,CAAoB3B,IAApB;IAHD,MAKK,IAAI7L,EAAEuN,KAAF,KAAUb,WAAd,EAAyB;UACxBE,YAAL;;WAIFa,gBAAgB,YAAM;SAChBjR,KAAL,CAAWsQ,SAAX,CAAqB,MAAKtQ,KAAL,CAAWqP,IAAhC;;;;;;;;;;;;oBAWDtC,mDAAqB;MAChB/H,OAAO,KAAKoG,IAAL,IAAa,KAAKA,IAAL,CAAU8F,aAAV,CAAwB,OAAxB,CAAxB;MACIlM,IAAJ,EAAUA,KAAKhC,KAAL;;;oBAGX2B,sCAAkF;uBAAzE0K,IAAyE;MAAlEL,KAAkE,aAAlEA,KAAkE;MAA3DG,SAA2D,aAA3DA,SAA2D;MAA9CyB,QAA8C,QAA9CA,QAA8C;MAApCN,SAAoC,QAApCA,SAAoC;MAAzBa,OAAyB,QAAzBA,OAAyB;MAAZX,QAAY,SAAZA,QAAY;;SAEhF;;KAAI,SAAO,EAAErB,oBAAF,EAAagC,gBAAb,EAAX;;;MACM,SAAM,MAAX;;cAEQ,QADP;WAEM,UAFN;cAGUhC,SAHV;eAIW,KAAKG;MALjB;;;OAOQ,YAAY,KAAKoB,UAAxB;;KAPD;kBAQS,SAAM,SAAd,EAAwB,SAAS,KAAKO,aAAtC;IATF;cAYE;aACO,MADP;WAEQT,QAFR;YAGS,KAAKJ,YAHd;aAIU,KAAKgB,SAAL,CAAe,UAAf,CAJV;eAKY,KAAKN;;GAlBpB;;;;EAtDoChD;;ACAtC,IAAMoC,YAAY,EAAlB;;AAEA,IAAMmB,UAAU;MACV;SAAQ,IAAR;EADU;SAEP;SAAQ,CAAChC,KAAKF,SAAd;EAFO;YAGJ;SAAQE,KAAKF,SAAb;;CAHZ;;IAMqBmC;;;gBACN;;;8CACb,qBADa;;QAedC,oBAfc,GAeS,aAAK;OACvB/N,EAAEgO,OAAF,KAAYtB,SAAhB,EAA2B;KACzBW,cAAF;;OAEIN,MAAM,MAAK5M,KAAL,CAAW8N,OAAX,CAAmBhB,IAAnB,EAAV;OACIF,GAAJ,EAAS;UACHmB,KAAL,CAAW3C,OAAX,CAAmBwB,GAAnB;UACKtM,QAAL,CAAc,EAAEwN,SAAS,EAAX,EAAd;;GAtBY;;QA0BdvC,SA1Bc,GA0BF,iBAAS;OAChBnL,UAAU+C,MAAMpD,MAAN,CAAaK,OAA3B;SACK2N,KAAL,CAAWxC,SAAX,CAAqBnL,OAArB;GA5Ba;;QA+BduL,MA/Bc,GA+BL,gBAAQ;SACXoC,KAAL,CAAWpC,MAAX,CAAkBD,IAAlB;GAhCa;;QAmCdG,OAnCc,GAmCJ,gBAAQ;SACZkC,KAAL,CAAWlC,OAAX,CAAmBH,IAAnB;GApCa;;QAuCdsC,IAvCc,GAuCP,gBAAQ;SACT1N,QAAL,CAAc,EAAEkN,SAAS9B,KAAKuC,EAAhB,EAAd;GAxCa;;QA2CdlC,IA3Cc,GA2CP,UAACC,UAAD,EAAakC,IAAb,EAAsB;SACvBH,KAAL,CAAWhC,IAAX,CAAgBC,UAAhB,EAA4BkC,IAA5B;SACK5N,QAAL,CAAc,EAAEkN,SAAS,IAAX,EAAd;GA7Ca;;QAgDdW,MAhDc,GAgDL,YAAM;SACT7N,QAAL,CAAc,EAAEkN,SAAS,IAAX,EAAd;GAjDa;;QAoDdvB,cApDc,GAoDG,YAAM;SACjB8B,KAAL,CAAW9B,cAAX;GArDa;;QAER8B,KAAL,GAAa,IAAIjD,SAAJ,CAAc,cAAd,EAA8B;UAAM,MAAKxK,QAAL,CAAc,EAAd,CAAN;GAA9B,CAAb;mBACiB,YAAjB,EAA+B,MAAK8N,WAAL,CAAiBC,IAAjB,OAA/B;QACKD,WAAL;;;;eAGDA,qCAAc;MACTjC,aAAarQ,OAAOwS,SAASC,IAAT,IAAe,EAAtB,EAA0B/R,KAA1B,CAAgC,GAAhC,EAAqCZ,GAArC,EAAjB;MACI,CAAC8R,QAAQvB,UAAR,CAAL,EAA0B;gBACZ,KAAb;;OAEI7L,QAAL,CAAc,EAAE6L,sBAAF,EAAd;;;eA4CDnL,sCAAwD;;;+BAA1CmL,UAA0C;MAA1CA,UAA0C,oCAA/BqC,SAA+B;MAApBV,OAAoB,SAApBA,OAAoB;MAAXN,OAAW,SAAXA,OAAW;;MACjDxC,KAAF,GAAY,KAAK+C,KAAjB,CAAE/C,KAAF;MACHyD,UADG,GACUzD,MAAMc,MAAN,CAAc4B,QAAQvB,UAAR,CAAd,CADV;MAEHuC,eAFG,GAEe1D,MAAM2D,MAAN,CAAc,UAACrJ,CAAD,EAAIoG,IAAJ;UAAapG,KAAKoG,KAAKF,SAAL,GAAiB,CAAjB,GAAqB,CAA1B,CAAb;GAAd,EAAyD,CAAzD,CAFf;MAGHY,cAHG,GAGcpB,MAAMtP,MAAN,GAAegT,eAH7B;;;SAMH;;;;;MACS,SAAM,QAAd;;;;;KAAA;;cAGQ,UADP;kBAEa,wBAFb;YAGQZ,OAHR;gBAIY,KAAKF,oBAJjB;cAKU,KAAKH,SAAL,CAAe,SAAf,CALV;gBAMY;;IATd;SAaS/R,MAAN,GACD;;MAAS,SAAM,MAAf;;cAEQ,YADP;WAEM,UAFN;eAGW,KAAK6P,SAHhB;cAIUmD,oBAAoB;MAL/B;;;OAOK,SAAM,WAAV;gBACcjD,GAAX,CAAgB;aACjB,EAAC,QAAD;aACOC,IADP;iBAEW,OAAKC,MAFhB;kBAGY,OAAKE,OAHjB;eAIS,OAAKmC,IAJd;gBAKUR,YAAY9B,KAAKuC,EAL3B;eAMS,OAAKlC,IANd;iBAOW,OAAKoC;QARC;MAAhB;;IATH,GAsBE,IAnCL;sBAqCuB/B,cAApB,GACD,EAAC,UAAD;WACQsC,eADR;oBAEiBtC,cAFjB;gBAGaD,UAHb;sBAImB,KAAKF;KALvB,GAOE;GA7CN;;;;EA/D+B9B;;ACXjC;;;;AAIAnJ,SAAO,EAAC,GAAD,OAAP,EAAgByC,SAAS8J,aAAT,CAAuB,UAAvB,CAAhB;;"}