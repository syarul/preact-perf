!function(){"use strict";function t(t){if(t.match(/([^?]*)\?([^:]*):([^;]*)|(\s*=\s*)[^;]*/g)){var e=t.split("?"),n=e[0],o=e[1].split(":")[0],i=e[1].split(":")[1];return!!this&&(this[n]?{value:O(o),state:n}:{value:O(i),state:n})}return!1}function e(t,e){"function"==typeof e&&e(t)}function n(t,e,n,o){e=e.replace(n,o),t&&(t.nodeValue=e)}function o(o,i,l,r,a,d){for(var c=o.match(I),s=c.length,u=void 0,h=void 0,f=void 0;s;)if(s--,u=c[s].replace(I,"$1"),h=t.call(l,u),f=_(u))e(u,r),n(i,o,"{{"+u+"}}",l[f[0]][f[1]]);else if(h){if(e(h.state,r),d)return h.value;n(i,o,"{{"+u+"}}",h.value)}else if(void 0!==l[u]){if(e(u,r),d)return l[u];n(i,o,"{{"+u+"}}",l[u])}}function i(t,e){lt=et(t,e),rt=ot.createContextualFragment(lt),rt.firstChild.setAttribute("kdata-id",e["kdata-id"])}function l(t,e,n){var o=void 0,l=void 0,r=void 0,a=void 0,d=void 0,c=void 0,s=void 0,u=void 0,h=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0,b=void 0,y=void 0,k=void 0;if(it[e]=it[e]||{},g=this[e].enableFiltering?"listFilter":"list",it[e][g]||(it[e][g]=t.nextSibling.cloneNode(!0)),f=it[e][g],it[e].str||(it[e].str=t.nextSibling.cloneNode(!0).outerHTML,t.nextSibling.remove(),v=this.__pristineFragment__.getElementById(t.parentNode.id),v&&v.childNodes[1].remove()),p=it[e].str,void 0!==this[e]&&this[e].hasOwnProperty(g))if(a=t.parentNode,ot&&!a.hasAttribute("data-ignore")&&a.setAttribute("data-ignore",""),o=this[e][g],m=it[e].oldModel||[],ot){d=nt(o,m),c=nt(m,o);var C=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(s=n.pop(),u=m.length===o.length)for(l=0;l<d.length;)h=s.querySelector(d[l]["kdata-id"]===c[l]["kdata-id"]?'[kdata-id="'+d[l]["kdata-id"]+'"]':'[kdata-id="'+c[l]["kdata-id"]+'"]'),h&&(i(p,d[l]),s.replaceChild(rt,h)),l++;else if(d.length>0&&0===c.length)for(l=0;l<d.length;)i(p,d[l]),d[l]["kdata-id"]===o[o.length-1]["kdata-id"]?y=s.lastChild:(b=o.map(function(t){return t["kdata-id"]}).indexOf(d[l]["kdata-id"]),y=s.childNodes[b].nextSibling),s.insertBefore(rt,y),l++;else if(0===d.length&&c.length>0)for(l=0;l<c.length;)h=s.querySelector('[kdata-id="'+c[l]["kdata-id"]+'"]'),h&&s.removeChild(h),l++;else if(d.length>0&&c.length>0)for(l=0;l<c.length;)if(h=s.querySelector('[kdata-id="'+c[l]["kdata-id"]+'"]'),h&&s.removeChild(h),l++,l===c.length)for(k=0;k<d.length;)i(p,d[k]),s.insertBefore(rt,s.lastChild),k++;it[e].oldModel=JSON.parse(JSON.stringify(o))};a.hasAttribute("id")&&(s=H(a.id),s?C.call(this,null,null,s):q({el:a.id},e,C.bind(this),function(){it[e].oldModel=[]}))}else for(l=0;l<o.length;)r=f.cloneNode(!0),n(this,null,r,o[l],null,"update"),r.setAttribute("kdata-id",o[l]["kdata-id"]),a.insertBefore(r,a.lastChild),l++}function r(t,e){for(var n=void 0;t;)n=t,t=t.nextSibling,n&&n.nodeType===dt?n.isEqualNode(e)?(n.remove(),e=e.nextSibling):r(n.firstChild,e):n.isEqualNode(e)&&(n.remove(),e=e.nextSibling)}function a(t,e,n,o,i){var l=void 0,a=void 0,d=void 0,c=document.createDocumentFragment();if("initial"!==i||st.hasOwnProperty(n)){if(t.nextSibling.isEqualNode(st[n].frag.firstChild))return;d=st[n].frag.cloneNode(!0),this[n]?t.parentNode.insertBefore(d,t.nextSibling):o(this,null,null,null,d,"update")}else for(a=t;a;)l=a,a=a.nextSibling,l.nodeType!==dt&&l.nodeValue.match(at)?(st[n]=st[n]||{},r(this.__pristineFragment__.firstChild,c.firstChild),Object.keys(st).map(function(t){return t!==n&&r(st[t].frag.firstChild,c.firstChild)}),st[n].frag=c,d=st[n].frag.cloneNode(!0),o(this,null,null,null,d,"initial"),this[n]&&l.parentNode.insertBefore(d,l)):l.nodeType!==ct&&c.appendChild(l)}function d(t,e){var n=t.replace("component:",""),o=this[n];void 0!==o?(ut[o.ID]?H(this[n].el)?e.parentNode.replaceChild(ut[o.ID].cloneNode(!0),e):(o.base=o.__pristineFragment__.cloneNode(!0),o.render(!0),e.parentNode.replaceChild(o.base,e)):(o.render(!0),ut[o.ID]=o.base.cloneNode(!0),e.parentNode.replaceChild(o.base,e)),o.callBatchPoolUpdate()):R(!1,"Component "+n+" does not exist.")}function c(t,n,o,i,r,c){var s=void 0,u=void 0,h=void 0;t.match(ht)&&(u=t.replace(ht,"$1").trim(),u.match(ft)&&"initial"!==c?(h=u.replace("model:",""),l.call(this,n,h,r)):u.match(pt)?(s=u.replace("?",""),void 0!==o[s]&&(e(s,i),a.call(this,n,i,s,r,c))):u.match(mt)&&"initial"!==c&&d.call(this,u,n))}function s(t,e){for(var n=void 0;e;){if(n=e,e=e.parentNode,n.nodeType===vt&&n.hasAttribute("kdata-id"))return n.getAttribute("kdata-id");n.isEqualNode(t)&&(e=null)}}function u(t,e){delete e.isModel;var n=Object.keys(e)[0],o=e[n];void 0!==this[o]&&"function"==typeof this[o]&&t.addEventListener(n,this[o].bind.apply(this[o].bind(this),[t]),!1)}function h(t,e){delete e.isModel;var n=Object.keys(e)[0],o=e[n];if(void 0!==this[o]&&"function"==typeof this[o]){var i=t.firstChild.nodeValue.replace(gt,"$1").trim();i=i.replace("model:","");var l=this[i];t.addEventListener(n,function(e){if(e.stopPropagation(),e.target!==e.currentTarget){this[o](l.list[bt(s(t,e.target),l)],e.target,e)}}.bind(this),!1)}}function f(t,e,n,i,l,r){var a=void 0,d=void 0,s=void 0;i?s=n:l?s=l.firstChild:(d=t.base,s=d.firstChild);var p=i||t,m=function(t){var e=t.attributes,n=0,i=void 0,l=void 0,r=void 0;for(n=e.length;n--;)i=e[n],r=i.localName,l=i.nodeValue,Ct.test(r)?(t.removeAttribute(r),r=o(r,t,p,null,null,!0),t.setAttribute(r,l)):Ct.test(l)&&(l=o(l,t,p,null,null,!0),"checked"===r?(t.checked=""!==l,t.removeAttribute(r)):""===l?t.setAttribute(r,""):t.setAttribute(r,l))},v=function(t){for(var e=t.attributes,n=0,o=void 0,i=void 0,l=void 0,r=void 0,a=void 0,d=[],c=void 0;n<e.length;)o=e[n],i=o.localName,l=o.nodeValue,/^k-/.test(i)&&(r=i.replace(/^k-/,""),a=l.match(/[a-zA-Z]+(?![^(]*\))/)[0],c={},c[r]=a,c.isModel=!1,d.push(c)),n++;return c&&t.hasChildNodes()&&t.firstChild.nodeType!==yt&&t.firstChild.nodeValue.match(Nt)&&(c.isModel=!0),d},g=void 0,b=function e(n,o){for(;n;)a=n,n=n.nextSibling,a.nodeType===yt&&(a.hasAttributes()&&!H(a.id)&&(g=v(a),g.length&&g.map(function(e){return e.isModel?h.call(t,a,e):u.call(t,a,e)})),e(a.firstChild,o))},y=function n(i,l){for(;i;)a=i,i=i.nextSibling,a.nodeType===yt?("update"===l&&a.hasAttributes()&&m(a),n(a.firstChild,l)):a.nodeValue.match(Ct)&&(a.nodeType===kt?c.call(t,a.nodeValue,a,p,e,f,l):"update"===l&&o.call(t,a.nodeValue,a,p,e,f))};"initial"===r||"update"===r?y(s,r):"event"===r&&b(s,r)}function p(t,e){var n=St.parseFromString(t,xt);return n.body?e===Mt?n.documentElement:n.body.firstChild:m(t,e)}function m(t,e){if(e===Mt){if(wt)return Pt.innerHTML=t,Pt;var n=t.match(jt);if(n){var o=n[2],i=n.index+n[1].length,l=i+o.length;t=t.slice(0,i)+t.slice(l),Ut.innerHTML=o}for(var r=St.parseFromString(t,At),a=r.body;Ut.firstChild;)a.appendChild(Ut.firstChild);return r.documentElement}return Ut.innerHTML=t,Ut.firstChild}function v(t,e){x(t&&t.nodeType,"You must provide a valid node to update."),t.nodeType===Ht&&(t=t.documentElement),e.nodeType===qt?y(t,e):g(t,"string"==typeof e?Ft(e,t.nodeName):e),t[Vt]||(t[Vt]=!0,M(t))}function g(t,e){if(t.nodeType===e.nodeType)if(t.nodeType===Bt){if("INPUT"===t.nodeName&&t.checked!==e.checked&&(t.checked=e.checked),C(t,e))return;if(y(t,e),t.nodeName===e.nodeName)b(t.attributes,e.attributes);else{for(var n=e.cloneNode();t.firstChild;)n.appendChild(t.firstChild);t.parentNode.replaceChild(n,t)}}else t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue);else t.parentNode.replaceChild(e,T(t)),M(e)}function b(t,e){var n,o,i,l,r;for(n=t.length;n--;)o=t[n],l=o.namespaceURI,r=o.localName,i=e.getNamedItemNS(l,r),i||t.removeNamedItemNS(l,r);for(n=e.length;n--;)o=e[n],l=o.namespaceURI,r=o.localName,i=t.getNamedItemNS(l,r),i?i.value!==o.value&&(i.value=o.value):(e.removeNamedItemNS(l,r),t.setNamedItemNS(o))}function y(t,e){for(var n,o,i,l,r,a,d=t.firstChild,c=e.firstChild,s=0;d;)s++,n=d,o=k(n),d=d.nextSibling,o&&(a||(a={}),a[o]=n);for(d=t.firstChild;c;)s--,i=c,c=c.nextSibling,a&&(l=k(i))&&(r=a[l])?(delete a[l],r!==d?t.insertBefore(r,d):d=d.nextSibling,g(r,i)):d?(n=d,d=d.nextSibling,k(n)?(t.insertBefore(i,n),M(i)):g(n,i)):(t.appendChild(i),M(i));for(o in a)s--,t.removeChild(T(a[o]));for(;--s>=0;)t.removeChild(T(t.lastChild))}function k(t){if(t.nodeType===Bt){var e=t.getAttribute(v.KEY)||t.id;return e?Lt+e:void 0}}function C(t,e){return S(t)&&S(e)||N(t)===N(e)||t.isEqualNode(e)}function N(t){return t.getAttribute(v.CHECKSUM)||NaN}function S(t){return null!=t.getAttribute(v.IGNORE)}function M(t){return w(t,"mount")}function T(t){return w(t,"dismount")}function w(t,e){if(k(t)){var n=document.createEvent("Event"),o={value:t};n.initEvent(e,!1,!1),Object.defineProperty(n,"target",o),Object.defineProperty(n,"srcElement",o),t.dispatchEvent(n)}for(var i=t.firstChild;i;)i=w(i,e).nextSibling;return t}function x(t,e){if(!t)throw Error("set-dom: "+e)}function A(t){f(this,Xt,null,null,null,"initial"),f(this,Xt,null,null,null,"update"),f(this,Xt,null,null,null,"event");var e=t||H(this.el);e?(e.nodeType===ee?e.setAttribute("data-ignore",""):(R(1===this.base.childNodes.length,"Sub-component should only has a single rootNode."),!this.base.firstChild.hasAttribute("data-ignore")&&this.base.firstChild.setAttribute("data-ignore","")),Jt.call(this),t||e.appendChild(this.base),this.componentDidMount&&"function"==typeof this.componentDidMount&&this.componentDidMount()):R(!1,'No element with id: "'+this.el+'" exist.')}function E(t){var e=void 0,n=void 0,o=document.createDocumentFragment();if("string"==typeof t)for(e=t.trim().replace(/\s+/g," "),n=document.createElement("div"),n.innerHTML=e;n.firstChild;)o.appendChild(n.firstChild);else"object"===(void 0===t?"undefined":D(t))&&t.nodeType?t.nodeType===ie?o.appendChild(t):t.nodeType===ne?o=t:t.nodeType===oe?o.appendChild(t):R(!1,"Unable to parse instance, unknown type."):R(!1,"Parameter is not a string or a html element.");return this.__pristineFragment__=o.cloneNode(!0),this.base=o,Qt(),this}var O=function(t){return"''"===t||'""'===t||"null"===t?"":t},_=function(t){var e=t.match(/\.*\./g);return e&&e.length>0?t.split("."):void 0},I=/{{([^{}]+)}}/g,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},j=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},F=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},L=function(t,e){return t.raw=e,t},V=function(){var t=function(){return(1*Math.random()*1e17).toString(36)};return"KDATA-"+t()+"-"+t()},B=function(){return(1*Math.random()*1e17).toString(36)},H=function(t){return document.getElementById(t)},q=function(t,e,n,o){function i(){r=H(t.el),r&&(clearInterval(d),a=!0,n(t,e,r))}function l(){clearInterval(d),!a&&o&&"function"==typeof o&&o()}var r=H(t.el),a=!1,d=void 0;return r?r:(d=setInterval(i,0),void setTimeout(l,5))},R=function(t,e){if(!t)throw Error("(keet) "+e)},W=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.shift(),i=e.slice(),l=o.raw.reduce(function(t,e,n){return t+i[n-1]+e});return l=l.split(/\n+/),l=l.map(function(t){return t.trim()}).join("")},K=function(t,e){return t["kdata-id"]!==e["kdata-id"]},Y=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.exec&&"function"==typeof this.exec&&this.exec.apply(null,e)},$=function(){function t(t){this.enableFiltering=t||null,this.exec=null,this.model=[],Object.defineProperty(this,"list",{enumerable:!1,configurable:!0,get:function(){return this.model},set:function(t){this.model=t,Y.call(this,this.model,this.listFilter)}}),Object.defineProperty(this,"listFilter",{enumerable:!1,configurable:!0,get:function(){var t=this;return this.prop?this.model.filter(function(e){return e[t.prop]===t.value}):this.model}})}return t.prototype.subscribe=function(t){this.exec=t},t.prototype.add=function(t){this.list=this.list.concat(U({},t,{"kdata-id":B()}))},t.prototype.update=function(t){this.list=this.list.map(function(e){return K(e,t)?e:t})},t.prototype.filter=function(t,e){this.prop=t,this.value=e,this.list=this.list.map(function(t){return t})},t.prototype.destroy=function(t){this.list=this.list.filter(function(e){return K(e,t)})},t}(),z=RegExp(/(\schecked=")(.*?)(?=")/g),G="",J=void 0,Z=void 0,Q=void 0,X=void 0,tt=void 0,et=function(e,n){var o=e.match(/{{([^{}]+)}}/g);for(G=e,Q=0,X=o.length;Q<X;Q++)J=o[Q].replace(/{{([^{}]+)}}/g,"$1"),Z=t.call(n,J),G=Z?G.replace("{{"+J+"}}",Z.value):G.replace("{{"+J+"}}",n[J]),tt=G.match(z),tt&&(G=17===tt[0].length?G.replace(' checked="checked"'," checked"):G.replace(' checked=""',""));return G},nt=function(t,e){return t.filter(function(t){return!e.some(function(e){var n=!0;for(var o in e)t[o]!==e[o]&&(n=!1);return n})})},ot=void 0;"function"==typeof document.createRange&&(ot=document.createRange());var it={},lt=void 0,rt=void 0,at=/\{\{\/([^{}]+)\}\}/g,dt=1,ct=8,st={},ut={},ht=/{{([^{}]+)}}/g,ft=/^model:/g,pt=/^\?/g,mt=/^component:([^{}]+)/g,vt=1,gt=/{{([^{}]+)}}/g,bt=function(t,e){return e.list.map(function(t){return t["kdata-id"]}).indexOf(t)},yt=1,kt=8,Ct=/{{([^{}]+)}}/g,Nt=/\{\{model:([^{}]+)\}\}/g,St=window.DOMParser&&new window.DOMParser,Mt="HTML",Tt=!1,wt=!1,xt="text/html",At="application/xhtml+xml",Et="A",Ot='<wbr class="'+Et+'"/>';try{var _t=St.parseFromString(Ot,xt).body.firstChild,It=document.createElement("div");if(It.appendChild(_t),It.firstChild.classList[0]!==Et)throw Error();Tt=!0}catch(t){}var Dt=document.implementation.createHTMLDocument(""),Pt=Dt.documentElement,Ut=Dt.body;try{Pt.innerHTML+="",wt=!0}catch(t){St.parseFromString(Ot,At);var jt=/(<body[^>]*>)([\s\S]*)<\/body>/}var Ft=Tt?p:m;v.KEY="data-key",v.IGNORE="data-ignore",v.CHECKSUM="data-checksum";var Lt="_set-dom-",Vt=Lt+"mounted",Bt=1,Ht=9,qt=11,Rt=v;Rt.KEY="kdata-id";var Wt=2.5,Kt=void 0,Yt=function(){Kt=H(this.el),te.call(this),Kt&&(this.IS_STUB?Rt(Kt,this.base.firstChild):Rt(Kt,this.base)),this.componentDidUpdate&&"function"==typeof this.componentDidUpdate&&this.componentDidUpdate()},$t={},zt=function(t,e){var n=this;$t[this.ID]=$t[this.ID]||null,clearTimeout($t[this.ID]),$t[this.ID]=setTimeout(function(){return t.call(n)},e)},Gt=function t(e){var n=void 0,o=void 0;if(e<Zt.length){if(n=Zt[e],o=this[n],void 0===o&&(o=_(n)),o&&Array.isArray(o)){var i=this[o[0]][o[1]];Object.defineProperty(this[o[0]],o[1],{enumerable:!1,configurable:!0,get:function(){return i},set:function(t){i=t,zt.call(this,Yt,Wt)}})}else Object.defineProperty(this,n,{enumerable:!1,configurable:!0,get:function(){return o},set:function(t){o=t,zt.call(this,Yt,Wt)}});e++,t.call(this,e)}},Jt=function(){Gt.call(this,0)},Zt=[],Qt=function(){Zt=[]},Xt=function(t){Zt.indexOf(t)===-1&&(Zt=Zt.concat(t))},te=function(){this.base=this.__pristineFragment__.cloneNode(!0),f(this,Xt,null,null,null,"initial"),f(this,Xt,null,null,null,"update"),f(this,Xt,null,null,null,"event")},ee=1,ne=11,oe=3,ie=1;window.l=console.log.bind(console),window.tr=console.trace.bind(console);var le=function(){function t(){this.ID=t.indentity}return t.prototype.mount=function(t){return E.call(this,t)},t.prototype.link=function(t){return t||R(t,"No id is given as parameter."),this.el=t,this.render(),this},t.prototype.render=function(t){this.componentWillMount&&"function"==typeof this.componentWillMount&&this.componentWillMount(),t&&(this.IS_STUB=!0),A.call(this,t)},t.prototype.callBatchPoolUpdate=function(){zt.call(this,Yt,1)},t.prototype.subscribe=function(t){this.exec=t},t.prototype.inform=function(t){this.exec&&"function"==typeof this.exec&&this.exec(t)},P(t,null,[{key:"indentity",get:function(){return V()}}]),t}(),re=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ae=function(t){function e(){return F(this,t.apply(this,arguments))}return j(e,t),e.prototype.switch=function(t,e){this.list=this.list.map(function(n){return n.hash===t?U({},n,e):U({},n,{selected:!1})})},e}($),de=new ae;Array.from(["all","active","completed"]).map(function(t){return de.add({hash:"#/"+t,name:re(t),selected:!1})});var ce=function(t){function e(){return F(this,t.apply(this,arguments))}return j(e,t),e.prototype.clearCompleted=function(){this.list=this.list.filter(function(t){return!t.completed})},e.prototype.updateAll=function(t){this.list=this.list.map(function(e){return U({},e,{completed:t})})},e}($),se=new ce("filter"),ue=L(['\n  <ul id="todo-list" class="todo-list" k-click="evtTodo()">\n    <!-- {{model:todoModel}} -->\n      <li class="{{completed?completed:\'\'}}">\n        <div class="view">\n          <input class="toggle" type="checkbox" checked="{{completed?checked:\'\'}}">\n          <label>{{title}}</label>\n          <button class="destroy"></button>\n        </div>\n        <input class="edit" value="{{title}}">\n      </li>\n    <!-- {{/model:todoModel}} -->\n  </ul>'],['\n  <ul id="todo-list" class="todo-list" k-click="evtTodo()">\n    <!-- {{model:todoModel}} -->\n      <li class="{{completed?completed:\'\'}}">\n        <div class="view">\n          <input class="toggle" type="checkbox" checked="{{completed?checked:\'\'}}">\n          <label>{{title}}</label>\n          <button class="destroy"></button>\n        </div>\n        <input class="edit" value="{{title}}">\n      </li>\n    <!-- {{/model:todoModel}} -->\n  </ul>']),he=function(t){function e(){var e=F(this,t.call(this));return e.el="todo-list",e.todoModel=se,e.todoModel.subscribe(function(t){return e.inform(t)}),e}return j(e,t),e.prototype.addTodo=function(t){this.todoModel.add(t)},e.prototype.evtTodo=function(t,e){"toggle"===e.className?this.todoModel.update(U({},t,{completed:!t.completed})):"destroy"===e.className&&this.todoModel.destroy(t)},e.prototype.filterTodo=function(t){"#/all"===t?this.todoModel.filter(null):"#/active"===t?this.todoModel.filter("completed",!1):"#/completed"===t&&this.todoModel.filter("completed",!0)},e.prototype.editMode=function(){},e}(le),fe=new he;fe.mount(W(ue));var pe=L(['\n  <ul id="filters" class="filters">\n    <!-- {{model:filterModel}} -->\n    <li id="{{name}}" k-click="updateUrl({{hash}})"><a class="{{selected?selected:\'\'}}" href="{{hash}}">{{name}}</a></li>\n    <!-- {{/model:filterModel}} -->\n  </ul>'],['\n  <ul id="filters" class="filters">\n    <!-- {{model:filterModel}} -->\n    <li id="{{name}}" k-click="updateUrl({{hash}})"><a class="{{selected?selected:\'\'}}" href="{{hash}}">{{name}}</a></li>\n    <!-- {{/model:filterModel}} -->\n  </ul>']),me=function(t){function e(){for(var e,n,o,i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=n=F(this,t.call.apply(t,[this].concat(l))),n.el="filters",n.filterModel=de,o=e,F(n,o)}return j(e,t),e.prototype.componentWillMount=function(){var t=this;this.filterModel.subscribe(function(){return t.callBatchPoolUpdate()}),""===window.location.hash&&window.history.pushState({},null,"#/all")},e.prototype.componentDidMount=function(){var t=this;this.updateUrl(window.location.hash),window.onpopstate=function(){return t.updateUrl(window.location.hash)}},e.prototype.updateUrl=function(t){this.filterModel.switch(t,{selected:!0}),fe.filterTodo(t)},e}(le),ve=new me;ve.mount(W(pe));var ge=L(['\n  <section class="todoapp">\n    <header id="header">\n      <h1>todos</h1>\n      <input id="new-todo" class="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n    </header>\n    <!-- {{?todoState}} -->\n    <section class="main">\n      <input id="toggle-all" class="toggle-all" type="checkbox" checked="{{isChecked?checked:\'\'}}" k-click="completeAll()">\n      <label for="toggle-all">Mark all as complete</label>\n      <!-- {{component:todoList}} -->\n    </section>\n    <footer class="footer">\n      <span class="todo-count">\n        <strong>{{count}}</strong> item{{plural}} left\n      </span>\n      <!-- {{component:filter}} -->\n      <!-- {{?clearToggle}} -->\n      <button id="clear-completed" k-click="clearCompleted()" class="clear-completed">Clear completed</button>\n      <!-- {{/clearToggle}} -->\n    </footer>\n    <!-- {{/todoState}} -->\n  </section>\n  <footer class="info">\n    <p>Double-click to edit a todo</p>\n    <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n  </footer>'],['\n  <section class="todoapp">\n    <header id="header">\n      <h1>todos</h1>\n      <input id="new-todo" class="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n    </header>\n    <!-- {{?todoState}} -->\n    <section class="main">\n      <input id="toggle-all" class="toggle-all" type="checkbox" checked="{{isChecked?checked:\'\'}}" k-click="completeAll()">\n      <label for="toggle-all">Mark all as complete</label>\n      <!-- {{component:todoList}} -->\n    </section>\n    <footer class="footer">\n      <span class="todo-count">\n        <strong>{{count}}</strong> item{{plural}} left\n      </span>\n      <!-- {{component:filter}} -->\n      <!-- {{?clearToggle}} -->\n      <button id="clear-completed" k-click="clearCompleted()" class="clear-completed">Clear completed</button>\n      <!-- {{/clearToggle}} -->\n    </footer>\n    <!-- {{/todoState}} -->\n  </section>\n  <footer class="info">\n    <p>Double-click to edit a todo</p>\n    <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n  </footer>']);(new(function(t){function e(){for(var e,n,o,i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=n=F(this,t.call.apply(t,[this].concat(l))),n.todoList=fe,n.filter=ve,n.isChecked=!1,n.count=0,n.plural="",n.clearToggle=!1,n.todoState=!1,o=e,F(n,o)}return j(e,t),e.prototype.componentWillMount=function(){var t=this;fe.subscribe(function(e){var n=e.filter(function(t){return!t.completed});t.clearToggle=!!e.filter(function(t){return t.completed}).length,t.todoState=!!e.length,t.plural=1===n.length?"":"s",t.count=n.length,t.isChecked=!n.length})},e.prototype.create=function(t){if(13===t.keyCode){var e=t.target.value.trim();e&&(this.todoList.addTodo({title:e,completed:!1}),t.target.value="")}},e.prototype.completeAll=function(){this.isChecked=!this.isChecked,this.todoList.todoModel.updateAll(this.isChecked)},e.prototype.clearCompleted=function(){this.todoList.todoModel.clearCompleted()},e}(le))).mount(W(ge)).link("todo")}();
//# sourceMappingURL=app.js.map