!function(){function e(t,n,o){function i(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!l&&c)return c(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}return e}()({1:[function(e,t,n){t.exports=function(e){return Array.isArray(e)?e.map(function(e){return e}):function(e){var t={};if("object"!=typeof e)return t.copy=e,t.copy;for(var n in e)t[n]=e[n];return t}(e)}},{}],2:[function(e,t,n){var o=e("./copy"),i=e("./tag"),r=e("./tmplHandler"),a=e("./tmplStylesHandler"),l=e("./tmplClassHandler"),c=e("./tmplAttrHandler"),s=e("./processEvent"),u=e("./utils").selector,p=e("./strInterpreter"),d=e("./nodesVisibility"),f=e("hash-sum"),h=e("set-dom");h.key="keet-id";var m=function(){var e,t,n=this,o=[].slice.call(arguments);"object"==typeof this.base?Object.keys(this.base).map(function(i){var r=n.base[i]["keet-id"];e=u(r),e||"string"!=typeof n.base[i]||(e=document.getElementById(n.el)),t=k.apply(n,[n.base[i]].concat(o)),n.base.hasOwnProperty("template")&&(t.id=n.el),h(e,t)}):(e=document.getElementById(n.el))&&(t=k.apply(n,[n.base].concat(o)),t.id=n.el,h(e,t)),v.status="ready"},v={ttl:null,status:"ready"},y=function(e,t){var n=this;if(e<this.__stateList__.length){var o=this.__stateList__[e],i=this[o];if(void 0===i&&(i=p(o)),i&&Array.isArray(i)){var r=this[i[0]][i[1]];Object.defineProperty(this[i[0]],i[1],{enumerable:!1,configurable:!0,get:function(){return r},set:function(e){r=e,m.apply(n,t)}})}else Object.defineProperty(this,o,{enumerable:!1,configurable:!0,get:function(){return i},set:function(e){i=e,"pooling"!==v.status&&(v.status="pooling",clearTimeout(v.ttl),v.ttl=setTimeout(function(){m.apply(n,t)},0))}});e++,y.apply(this,[e,t])}},b=function(e){y.apply(this,[0,e])},g=function(e){this.__stateList__=this.__stateList__.concat(e)},k=function(){var e=[].shift.call(arguments),t=[].slice.call(arguments),n=document.createElement("div"),u=o(e);delete u.template,delete u.tag,delete u.style,delete u.class,this.__stateList__=[];var p=e.template?r.call(this,e.template,g.bind(this)):"string"==typeof e?r.call(this,e,g.bind(this)):null,h=a.call(this,e.style,g.bind(this)),m=l.call(this,e,g.bind(this));m&&(u.class=m),t&&t.length&&c.apply(this,[u].concat(t));var v=e.tag?i(e.tag,p||"",u,h):p;return v=d.call(this,v),n.innerHTML=v,n.childNodes.forEach(function(e){1===e.nodeType&&e.setAttribute("data-checksum",f(e.outerHTML))}),"input"===e.tag&&(u.checked?n.childNodes[0].setAttribute("checked",""):n.childNodes[0].removeAttribute("checked")),b.call(this,t),s.call(this,n),"string"==typeof e?n:e.tag?n.childNodes[0]:n};n.genElement=k,n.setState=b,n.updateStateList=g},{"./copy":1,"./nodesVisibility":4,"./processEvent":6,"./strInterpreter":7,"./tag":8,"./tmplAttrHandler":10,"./tmplClassHandler":11,"./tmplHandler":12,"./tmplStylesHandler":13,"./utils":14,"hash-sum":16,"set-dom":17}],3:[function(e,t,n){var o=e("./processEvent"),i=e("./ternaryOps"),r=e("./utils").testEvent,a="";t.exports=function(e){var t,n,l=this.args,c=this.base.template.match(/{{([^{}]+)}}/g);a=this.base.template;for(var s=0,u=c.length;s<u;s++){n=c[s].replace(/{{([^{}]+)}}/g,"$1");var p=i.call(e,n);if(a=p?a.replace("{{"+n+"}}",p.value):a.replace("{{"+n+"}}",e[n]),l&&~l.indexOf(n)&&!e[n]){var d=new RegExp(" "+n+'="'+e[n]+'"',"g");a=a.replace(d,"")}}return t=document.createElement("div"),t.innerHTML=a,r(a)&&o.call(this,t),t.childNodes[0].setAttribute("keet-id",e["keet-id"]),t.childNodes[0]}},{"./processEvent":6,"./ternaryOps":9,"./utils":14}],4:[function(e,t,n){t.exports=function(e){var t=this;return this.__stateList__.map(function(n){if(!t[n]){var o="\\{\\{\\?"+n+"\\}\\}",i="\\{\\{\\/"+n+"\\}\\}",r="("+o+")(.*?)(?="+i+")",a=new RegExp(r),l=a.test(e),c=e.match(a);l&&c&&(e=e.replace(c[2],""))}e=e.replace("{{?"+n+"}}",""),e=e.replace("{{/"+n+"}}","")}),e}},{}],5:[function(e,t,n){var o=e("./genElement").genElement,i=e("./genElement").setState,r=e("./tmplHandler"),a=e("./processEvent"),l=e("./utils").genId,c=e("./utils").testEvent,s=e("./genTemplate"),u=e("./nodesVisibility"),p=e("hash-sum");t.exports=function(){var e=this,t=[],n=[].slice.call(arguments);if(Array.isArray(this.base.model))this.base.template=this.base.template.trim().replace(/\s+/g," "),this.base.model=this.base.model.map(function(e){return e["keet-id"]=l(),e}),this.base.model.map(function(n){t.push(s.call(e,n))});else if("object"==typeof this.base)Object.keys(this.base).map(function(c){var s=e.base[c];if(s&&"object"==typeof s){var d=l();s["keet-id"]=d,e.base[c]["keet-id"]=d;var f=o.apply(e,[s].concat(n));t.push(f)}else{e.__stateList__=[];var h=r.call(e,s,function(t){e.__stateList__=e.__stateList__.concat(t)});h=u.call(e,h);var m=document.createElement("div");m.innerHTML=h,i.call(e,n),a.call(e,m),m.childNodes.forEach(function(e){1===e.nodeType&&e.setAttribute("data-checksum",p(e.outerHTML)),t.push(e)})}});else if("string"==typeof this.base){this.__stateList__=[];var d=r.call(this,this.base,function(t){e.__stateList__=e.__stateList__.concat(t)});d=u.call(this,d);var f=document.createElement("div");f.innerHTML=d,i.call(this,n),c(d)&&a.call(this,f),f.childNodes.forEach(function(e){1===e.nodeType&&e.setAttribute("data-checksum",p(e.outerHTML)),t.push(e)})}return t}},{"./genElement":2,"./genTemplate":3,"./nodesVisibility":4,"./processEvent":6,"./tmplHandler":12,"./utils":14,"hash-sum":16}],6:[function(e,t,n){var o=e("./utils").loopChilds,i=function(e,t,n){var o,r,a,l,c,s,u,p=t.attributes;e<p.length?(o=/^k-/.test(p[e].nodeName),o&&(r=p[e].nodeName.split("-")[1],a=p[e].nodeValue,l=a.split("("),"function"==typeof(c=this[l[0]])&&(n.push(p[e].nodeName),s=[],u=l[1].slice(0,-1).split(",").filter(function(e){return""!==e}),u.length&&u.map(function(e){s.push(e)}),t.addEventListener(r,c.bind.apply(c.bind(this),[t].concat(s)),!1))),e++,i.apply(this,[e,t,n])):n.map(function(e){t.removeAttribute(e)})};t.exports=function(e){var t=this,n=[],r=[];o(n,e),n.map(function(e){1===e.nodeType&&e.hasAttributes()&&i.apply(t,[0,e,r])}),n=[]}},{"./utils":14}],7:[function(e,t,n){t.exports=function(e){var t=e.match(/\.*\./g);if(t&&t.length>0)return e.split(".")}},{}],8:[function(e,t,n){function o(){var e,t,n,o=[].slice.call(arguments),i=["<",o[0],">",o[1],"</",o[0],">"];if(o.length>2&&"object"==typeof o[2])for(e in o[2])"boolean"==typeof o[2][e]&&o[2][e]?i.splice(2,0," ",e):"class"===e&&Array.isArray(o[2][e])?i.splice(2,0," ",e,'="',o[2][e].join(" ").trim(),'"'):i.splice(2,0," ",e,'="',o[2][e],'"');if(o.length>3&&"object"==typeof o[3]){t=i.indexOf(">"),n=[t,0,' style="'];for(e in o[3])n.push(e),n.push(":"),n.push(o[3][e]),n.push(";");n.push('"'),i.splice.apply(i,n)}return i}t.exports=function(){return o.apply(null,arguments).join("")}},{}],9:[function(e,t,n){function o(e){return"''"===e||'""'===e?"":e}t.exports=function(e){if(e.match(/([^?]*)\?([^:]*):([^;]*)|(\s*=\s*)[^;]*/g)){var t=e.split("?"),n=t[0],i=t[1].split(":")[0],r=t[1].split(":")[1];return this[n]?{value:o(i),state:n}:{value:o(r),state:n}}return!1}},{}],10:[function(e,t,n){var o=e("./genElement");t.exports=function(){var e=this,t=[].shift.call(arguments);Object.keys(t).map(function(n){var i=t[n].match(/{{([^{}]+)}}/g);if(i&&i.length){var r="";i.map(function(i){var a=i.replace(/{{([^{}]+)}}/g,"$1");void 0!==e[a]&&(o.updateStateList.call(e,a),!1===e[a]?delete t[n]:(r+=e[a],t[n]=r))})}})}},{"./genElement":2}],11:[function(e,t,n){t.exports=function(e,t){var n=this;if(e.class){var o=e.class.match(/{{([^{}]+)}}/g),i="";return o&&o.length&&o.map(function(e){var o=e.replace(/{{([^{}]+)}}/g,"$1");void 0!==n[o]&&(t(o),n[o].cstore.map(function(e){i+=e+" "}))}),i.length?i.trim():e.class}return!1}},{}],12:[function(e,t,n){var o=e("./strInterpreter"),i=e("./ternaryOps");t.exports=function(e,t){var n=this,r=e.match(/{{([^{}]+)}}/g);return r&&r.length&&r.map(function(r){var a=r.replace(/{{([^{}]+)}}/g,"$1"),l=o(a),c=i.call(n,a);l?(t(a),e=e.replace("{{"+a+"}}",n[l[0]][l[1]])):void 0!==n[a]?(t(a),e=e.replace("{{"+a+"}}",n[a])):c&&(t(c.state),e=e.replace("{{"+a+"}}",c.value)),a.match(/^\?/g)&&t(a.replace("?",""))}),e}},{"./strInterpreter":7,"./ternaryOps":9}],13:[function(e,t,n){var o=e("./copy");t.exports=function(e,t){var n=this,i=o(e);return e&&Object.keys(i).map(function(e){var o=i[e].match(/{{([^{}]+)}}/g);o&&o.length&&o.map(function(o){var r=o.replace(/{{([^{}]+)}}/g,"$1");void 0!==n[r]&&(t(r),i[e]=i[e].replace(/{{([^{}]+)}}/,n[r]))})}),i}},{"./copy":1}],14:[function(e,t,n){var o=function(e){return document.getElementById(e)};n.getId=o,n.genId=function(){return Math.round(1*Math.random()*1e12).toString(32)},n.selector=function(e){return document.querySelector('[keet-id="'+e+'"]')};var i=function(e,t){for(var n=t.firstChild;null!==n;n=n.nextSibling)e.push(n),n.hasChildNodes()&&i(e,n)};n.loopChilds=i,n.checkNodeAvailability=function(e,t,n){var i,r=!1,a=this.el,l=this,c=setInterval(function(){(i=o(a))&&(clearInterval(c),r=!0,n.call(l,i,e,t))},0);setTimeout(function(){if(!r)throw clearInterval(c),new Error("Unable to find html entity with id "+a+".")},500)},n.available=function(e,t,n){e.appendChild(n.call(this,t))},n.fn=function(e){return"function"==typeof e},n.testEvent=function(e){return/ k-/.test(e)}},{}],15:[function(e,t,n){"use strict";function o(){Object.defineProperty(this,"__stateList__",{enumerable:!1,writable:!0})}var i=e("./components/utils").getId,r=e("./components/utils").genId,a=e("./components/utils").selector,l=e("./components/utils").fn,c=e("./components/utils").checkNodeAvailability,s=e("./components/utils").available,u=e("./components/parseStr"),p=e("./components/genTemplate"),d=e("set-dom");d.key="keet-id";var f=function(e,t,n){var o=this;if(e<n.length)t.childNodes[e]||t.appendChild(n[e]),e++,f.apply(this,[e,t,n]);else{"object"==typeof this.base&&(this.baseProxy=function(e){return new Proxy(e,{set:function(e,t,n){return e[t]=n,o.base[t]=e[t],!0},deleteProperty:function(e,t){var n=e[t]["keet-id"],i=a(n);return i&&i.remove(),delete o.base[t],!0}})}(this.base)),this.componentDidMount&&"function"==typeof this.componentDidMount&&this.componentDidMount()}};o.prototype.mount=function(e){return"object"==typeof e?Object.keys(e).map(function(t){"string"==typeof e[t]?e[t]=e[t].trim().replace(/\s+/g," "):"object"==typeof e[t]&&"string"==typeof e[t].template&&(e[t].template=e[t].template.trim().replace(/\s+/g," "))}):"string"==typeof e&&(e=e.trim().replace(/\s+/g," ")),this.base=e,this},o.prototype.flush=function(e){var t=i(this.el);return t&&(t.innerHTML=""),this},o.prototype.link=function(e){return this.el=e,this.componentWillMount&&"function"==typeof this.componentWillMount&&this.componentWillMount(),this.render(),this},o.prototype.render=function(){var e=i(this.el),t=u.apply(this,this.args);return e&&f.apply(this,[0,e,t]),this},o.prototype.cluster=function(){var e=[].slice.call(arguments);e.length>0&&e.map(function(e){"function"==typeof e&&e()})},o.prototype.add=function(e,t){var n=i(this.el);e["keet-id"]=r(),this.base.model=this.base.model.concat(e),t&&l(t)&&t.call(this),n&&n.appendChild(p.call(this,e))||c.call(this,e,p,s)},o.prototype.destroy=function(e,t,n){var o=this;this.base.model=this.base.model.filter(function(i,r){if(e!==i[t])return i;var c=a(i["keet-id"]);c&&(n&&l(n)&&n.call(o),c.remove())})},o.prototype.update=function(e,t,n,o){var i=this;this.base.model=this.base.model.map(function(r,c,s){if(e===r[t]){n&&"object"==typeof n&&Object.assign(r,n);var u=a(r["keet-id"]);u&&(o&&l(o)&&o.call(i),d(u,p.call(i,r)))}return r})},t.exports=o},{"./components/genTemplate":3,"./components/parseStr":5,"./components/utils":14,"set-dom":17}],16:[function(e,t,n){"use strict";function o(e,t){for(;e.length<t;)e="0"+e;return e}function i(e,t){var n,o,i;if(0===t.length)return e;for(n=0,i=t.length;n<i;n++)o=t.charCodeAt(n),e=(e<<5)-e+o,e|=0;return e<0?-2*e:e}function r(e,t,n){function o(e,o){return a(e,t[o],o,n)}return Object.keys(t).sort().reduce(o,e)}function a(e,t,n,o){var a=i(i(i(e,n),l(t)),typeof t);return null===t?i(a,"null"):void 0===t?i(a,"undefined"):"object"==typeof t?-1!==o.indexOf(t)?i(a,"[Circular]"+n):(o.push(t),r(a,t,o)):i(a,t.toString())}function l(e){return Object.prototype.toString.call(e)}function c(e){return o(a(0,e,"",[]).toString(16),8)}t.exports=c},{}],17:[function(e,t,n){"use strict";function o(e,t){h(e&&e.nodeType,"You must provide a valid node to update."),e.nodeType===g&&(e=e.documentElement),t.nodeType===k?a(e,t):i(e,"string"==typeof t?m(t,e.nodeName):t),e[y]||(e[y]=!0,p(e))}function i(e,t){if(e.nodeType===t.nodeType)if(e.nodeType===b){if(c(e,t))return;if(a(e,t),e.nodeName===t.nodeName)r(e.attributes,t.attributes);else{for(var n=t.cloneNode();e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}}else e.nodeValue!==t.nodeValue&&(e.nodeValue=t.nodeValue);else e.parentNode.replaceChild(t,d(e)),p(t)}function r(e,t){var n,o,i,r,a;for(n=e.length;n--;)o=e[n],r=o.namespaceURI,a=o.localName,(i=t.getNamedItemNS(r,a))||e.removeNamedItemNS(r,a);for(n=t.length;n--;)o=t[n],r=o.namespaceURI,a=o.localName,i=e.getNamedItemNS(r,a),i?i.value!==o.value&&(i.value=o.value):(t.removeNamedItemNS(r,a),e.setNamedItemNS(o))}function a(e,t){for(var n,o,r,a,c,s,u=e.firstChild,f=t.firstChild,h=0;u;)h++,n=u,o=l(n),u=u.nextSibling,o&&(s||(s={}),s[o]=n);for(u=e.firstChild;f;)h--,r=f,f=f.nextSibling,s&&(a=l(r))&&(c=s[a])?(delete s[a],c!==u?e.insertBefore(c,u):u=u.nextSibling,i(c,r)):u?(n=u,u=u.nextSibling,l(n)?(e.insertBefore(r,n),p(r)):i(n,r)):(e.appendChild(r),p(r));for(o in s)h--,e.removeChild(d(s[o]));for(;--h>=0;)e.removeChild(d(e.lastChild))}function l(e){if(e.nodeType===b){var t=e.getAttribute(o.KEY)||e.id;return t?v+t:void 0}}function c(e,t){return u(e)&&u(t)||s(e)===s(t)||e.isEqualNode(t)}function s(e){return e.getAttribute(o.CHECKSUM)||NaN}function u(e){return null!=e.getAttribute(o.IGNORE)}function p(e){return f(e,"mount")}function d(e){return f(e,"dismount")}function f(e,t){if(l(e)){var n=document.createEvent("Event"),o={value:e};n.initEvent(t,!1,!1),Object.defineProperty(n,"target",o),Object.defineProperty(n,"srcElement",o),e.dispatchEvent(n)}for(var i=e.firstChild;i;)i=f(i,t).nextSibling;return e}function h(e,t){if(!e)throw new Error("set-dom: "+t)}o.KEY="data-key",o.IGNORE="data-ignore",o.CHECKSUM="data-checksum";var m=e("./parse-html"),v="_set-dom-",y=v+"mounted",b=1,g=9,k=11;t.exports=o},{"./parse-html":18}],18:[function(e,t,n){"use strict";function o(e,t){var n=r.parseFromString(e,s);return n.body?t===a?n.documentElement:n.body.firstChild:i(e,t)}function i(e,t){if(t===a){if(c)return h.innerHTML=e,h;var n=e.match(v);if(n){var o=n[2],i=n.index+n[1].length,l=i+o.length;e=e.slice(0,i)+e.slice(l),m.innerHTML=o}for(var s=r.parseFromString(e,u),p=s.body;m.firstChild;)p.appendChild(m.firstChild);return s.documentElement}return m.innerHTML=e,m.firstChild}var r=window.DOMParser&&new window.DOMParser,a="HTML",l=!1,c=!1,s="text/html",u="application/xhtml+xml";try{var p=r.parseFromString('<wbr class="A"/>',s).body.firstChild,d=document.createElement("div");if(d.appendChild(p),"A"!==d.firstChild.classList[0])throw new Error;l=!0}catch(e){}var f=document.implementation.createHTMLDocument(""),h=f.documentElement,m=f.body;try{h.innerHTML+="",c=!0}catch(e){r.parseFromString('<wbr class="A"/>',u);var v=/(<body[^>]*>)([\s\S]*)<\/body>/}t.exports=l?o:i},{}],19:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n  <section id="todoapp">\n    <header id="header">\n      <h1>todos</h1>\n      <input id="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n    </header>\n    {{?todoState}}\n    <section id="main">\n      <input id="toggle-all" type="checkbox" {{isChecked?checked:\'\'}} k-click="completeAll()">\n      <label for="toggle-all">Mark all as complete</label>\n      <ul id="todo-list" data-ignore></ul>\n    </section>\n    <footer id="footer">\n      <span id="todo-count">\n        <strong>{{count}}</strong> item{{plural}} left\n      </span>\n      <ul id="filters">\n        ','\n      </ul>\n      {{?clearToggle}}\n      <button id="clear-completed" k-click="clearCompleted()">Clear completed</button>\n      {{/clearToggle}}\n    </footer>\n    {{/todoState}}\n  </section>\n  <footer id="info">\n    <p>Double-click to edit a todo</p>\n    <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n  </footer>'],['\n  <section id="todoapp">\n    <header id="header">\n      <h1>todos</h1>\n      <input id="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n    </header>\n    {{?todoState}}\n    <section id="main">\n      <input id="toggle-all" type="checkbox" {{isChecked?checked:\'\'}} k-click="completeAll()">\n      <label for="toggle-all">Mark all as complete</label>\n      <ul id="todo-list" data-ignore></ul>\n    </section>\n    <footer id="footer">\n      <span id="todo-count">\n        <strong>{{count}}</strong> item{{plural}} left\n      </span>\n      <ul id="filters">\n        ','\n      </ul>\n      {{?clearToggle}}\n      <button id="clear-completed" k-click="clearCompleted()">Clear completed</button>\n      {{/clearToggle}}\n    </footer>\n    {{/todoState}}\n  </section>\n  <footer id="info">\n    <p>Double-click to edit a todo</p>\n    <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n  </footer>']),c=e("../keet"),s=e("./util"),u=s.camelCase,p=s.html,d=e("./todo"),f=["all","active","completed"],h=e("./filters")(f),m=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.page="All",r.isChecked=!1,r.count=0,r.plural="",r.clearToggle=!1,a=n,i(r,a)}return r(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;f.map(function(t){return e["page"+u(t)]=""}),d.subscribe(function(t){var n=t.filter(function(e){return!e.completed}),o=t.filter(function(e){return e.completed});e.clearToggle=!!o.length,e.todoState=!!t.length,e.plural=1===n.length?"":"s",e.count=n.length})}},{key:"componentDidMount",value:function(){var e=this;""==window.location.hash&&(this.updateUrl("#/all"),window.history.pushState({},null,"#/all")),window.onpopstate=function(){return e.updateUrl(window.location.hash)}}},{key:"updateUrl",value:function(e){var t=this;f.map(function(n){t["page"+u(n)]=e.split("#/")[1]===n?"selected":"",e.split("#/")[1]===n&&(t.page=n.name)})}},{key:"create",value:function(e){13===e.keyCode&&(d.addTodo(e.target.value.trim()),e.target.value="")}},{key:"completeAll",value:function(){this.isChecked=!this.isChecked,d.updateAll(this.isChecked)}},{key:"clearCompleted",value:function(){d.clearCompleted()}}]),t}(c),v=p(l,h);(new m).mount(v).link("todo")},{"../keet":15,"./filters":20,"./todo":21,"./util":22}],20:[function(e,t,n){"use strict";var o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['<li k-click="updateUrl(',')"><a class="','" href="','">',"</a></li>"],['<li k-click="updateUrl(',')"><a class="','" href="','">',"</a></li>"]),i=e("./util"),r=i.camelCase,a=i.html;t.exports=function(e){var t="",n=function(e){var n={className:"{{page"+r(e)+"}}",hash:"#/"+e,name:r(e)};t+=a(o,n.hash,n.className,n.hash,n.name)};return e.map(function(e){return n(e)}),t}},{"./util":22}],21:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(){for(var e=h.length;e--;)h[e](this.base.model)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n\t<li k-dblclick="editMode({{keet-id}})" class="{{completed?completed:\'\'}}">\n\t\t<div class="view"><input k-click="toggleTodo({{keet-id}})" class="toggle" type="checkbox" {{completed?checked:\'\'}}>\n\t\t\t<label>{{title}}</label>\n\t\t\t<button k-click="todoDestroy({{keet-id}})" class="destroy"></button>\n\t\t</div>\n\t\t<input class="edit" value="{{title}}">\n\t</li>'],['\n\t<li k-dblclick="editMode({{keet-id}})" class="{{completed?completed:\'\'}}">\n\t\t<div class="view"><input k-click="toggleTodo({{keet-id}})" class="toggle" type="checkbox" {{completed?checked:\'\'}}>\n\t\t\t<label>{{title}}</label>\n\t\t\t<button k-click="todoDestroy({{keet-id}})" class="destroy"></button>\n\t\t</div>\n\t\t<input class="edit" value="{{title}}">\n\t</li>']),s=e("../keet"),u=e("./util"),p=u.store,d=u.html,f=u.selector,h=(console.log.bind(console),[]),m=function(e){function t(){var e,n,r,a;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.el="todo-list",a=n,i(r,a)}return r(t,e),l(t,[{key:"addTodo",value:function(e){var t={title:e,completed:!1};this.add(t,a)}},{key:"updateAll",value:function(e){var t=this;this.base.model.map(function(n){t.update(n["keet-id"],"keet-id",{completed:e})}),a.call(this)}},{key:"clearCompleted",value:function(){this.base.model=this.base.model.filter(function(e){if(!e.completed)return e;var t=f(e["keet-id"]);t&&t.remove()}),a.call(this)}},{key:"editMode",value:function(e){}},{key:"todoDestroy",value:function(e,t){}},{key:"toggleTodo",value:function(e,t){this.update(e,"keet-id",{completed:!!t.target.checked},a)}},{key:"subscribe",value:function(e){h.push(e)}}]),t}(s),v=new m,y={template:d(c),model:p("todos-keetjs")};v.mount(y),t.exports=v},{"../keet":15,"./util":22}],22:[function(e,t,n){"use strict";n.inform=function(e,t){for(var n=e.onChanges.length;n--;)e.onChanges[n](t)},n.store=function(e,t){if(arguments.length>1)return localStorage.setItem(e,JSON.stringify(t));var n=localStorage.getItem(e);return n&&JSON.parse(n)||[]},n.camelCase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.selector=function(e){return document.querySelector('[keet-id="'+e+'"]')},n.genId=function(){return Math.round(1*Math.random()*1e12).toString(32)},n.getId=function(e){return document.getElementById(e)},n.html=function(e){for(var t=e.raw,n="",o=arguments.length,i=Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];return i.forEach(function(e,o){var i=t[o];Array.isArray(e)&&(e=e.join("")),i.endsWith("$")&&(e=htmlEscape(e),i=i.slice(0,-1)),n+=i,n+=e}),n+=t[t.length-1]},n.intelliUpdate=function(e,t){e&&clearTimeout(e),e=setTimeout(function(){t()},10)}},{}]},{},[19]);
