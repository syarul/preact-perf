var app=function(){"use strict";function t(t,e){"function"==typeof e&&e(t)}function e(t,e){var n=t.getElementById(e);n&&n.childNodes[1].remove()}function n(t,n,o){var i=void 0,r=void 0,l=void 0,a=void 0,c=void 0,s=void 0,u=void 0;if(ct[n]=ct[n]||{},s=this[n]&&this[n].enableFiltering?"listFilter":"list",ct[n][s]||(ct[n][s]=t.nextSibling.cloneNode(!0),t.nextSibling.remove(),e(this.__pristineFragment__,t.parentNode.id)),o&&(c=ct[n][s],void 0!==this[n]&&this[n].hasOwnProperty(s))){if(a=t.parentNode.nodeType===at?ot(this.el):t.parentNode,t.parentNode.id&&!ot(t.parentNode.id)&&(this[n].dirty=!0),i=this[n][s],!this[n].dirty)return void a.setAttribute("pristine-model","");for(r=0,u=i.length;r<u;)l=c.cloneNode(!0),o.call(this,l,null,i[r]),l.setAttribute("kdata-id",i[r]["kdata-id"]),a.insertBefore(l,a.lastChild),r++;this[n].dirty=!1}}function o(t,e){for(var n=void 0;t;)n=t,t=t.nextSibling,n&&n.nodeType===ht?n.isEqualNode(e)?(n.remove(),e=e.nextSibling):o(n.firstChild,e):n.isEqualNode(e)&&(n.remove(),e=e.nextSibling)}function i(t,e){for(var o=void 0;e;)if(o=e,e=e.nextSibling,o.nodeType===ht)i.call(this,t,o.firstChild);else if(o.nodeType===ft&&o.nodeValue.match(ut)){var r=o.nodeValue.trim().match(dt);r.length&&(pt[t].models=pt[t].models||[],pt[t].models=pt[t].models.concat(r),n.call(this,o,r,null))}}function r(t,e,n,r,l){var a=this,c=void 0,s=void 0,u=void 0,d=document.createDocumentFragment();if("initial"!==n||pt.hasOwnProperty(e)){if("conditional-set"===n){if(!pt[e]||t.nextSibling.isEqualNode(pt[e].frag.firstChild))return;u=pt[e].frag.cloneNode(!0),pt[e].models&&pt[e].models.length&&pt[e].models.map(function(t){a[t].dirty=!0}),r.call(this,u.firstChild,l),t.parentNode.insertBefore(u,t.nextSibling)}}else for(s=t;s;)c=s,s=s.nextSibling,c.nodeType!==ht&&c.nodeValue.match(st)?(s=null,pt[e]=pt[e]||{},o(this.__pristineFragment__.firstChild,d.firstChild),i.call(this,e,d.firstChild),pt[e].frag=d):c.nodeType!==ft&&d.appendChild(c)}function l(t){for(;t;)wt=t,t=t.nextSibling,wt.nodeType===mt?l.call(this,wt.firstChild):wt.nodeType===vt&&wt.nodeValue.match(yt)&&(bt=wt.nodeValue.trim().match(gt),kt=kt.concat(bt),Ct=Ct.concat(wt))}function a(e){kt=[],Ct=[],l.call(this,this.base.firstChild);for(var n=kt.length;n>0;)n--,t(kt[n],e.bind(this)),r.call(this,Ct[n],kt[n],"initial")}function c(t){if(window&&"object"===W(window.__keetGlobalComponentRef__)){var e=window.__keetGlobalComponentRef__.map(function(t){return t.identifier}).indexOf(t);if(~e)return window.__keetGlobalComponentRef__[e].component}}function s(t,e){var n=t.replace("component:",""),o=this[n]||c(n);void 0!==o?_t[o.ID]?ot(o.el)?(e.parentNode.replaceChild(_t[o.ID].cloneNode(!0),e),o.callBatchPoolUpdate()):(o.base=o.__pristineFragment__.cloneNode(!0),o.cycleVirtualDomTree(!0),e.parentNode.replaceChild(o.base,e)):(o.cycleVirtualDomTree(!0),_t[o.ID]=o.base.cloneNode(!0),e.parentNode.replaceChild(o.base,e)):it(!1,"Component "+n+" does not exist.")}function u(t){var e=void 0,n=void 0;return"string"==typeof t&&(e=t.match(Tt),e&&e.length&&(this.IS_SVG=!0,e.map(function(e){n=nt(),xt[n]=e,t=t.replace(e,"<!-- {{svg:"+n+"}} -->")}))),t}function d(t){for(var e=void 0;t;)e=t,t=t.nextSibling,e.nodeType===Nt?d(e.firstChild):e.nodeType===St&&" "===e.nodeValue&&e.remove()}function h(t,e){var n=document.createElement("div");for(n.innerHTML=e,d(n.firstChild);n.firstChild;)t.appendChild(n.firstChild)}function f(t){if(t.match(/([^?]*)\?([^:]*):([^;]*)|(\s*=\s*)[^;]*/g)){var e=t.split("?"),n=e[0],o=e[1].split(":")[0],i=e[1].split(":")[1];return!!this&&(this[n]?{value:Et(o),state:n}:{value:Et(i),state:n})}return!1}function p(e,n,o){n&&(o=!1),n=n||this;var i=e.match(/{{([^{}]+)}}/g);for(Lt=e,Dt=0,jt=i.length;Dt<jt;Dt++){if(It=i[Dt].replace(/{{([^{}]+)}}/g,"$1"),Ot=f.call(n,It),Pt=At(It),Ot)t(It,o),Lt=Lt.replace("{{"+It+"}}",Ot.value);else if(Pt){if("this"===Pt[0]&&"function"==typeof this[Pt[1]]){var r=this[Pt[1]](n);void 0!==r&&(Lt=Lt.replace("{{"+It+"}}",r))}}else void 0!==n[It]&&(t(It,o),Lt=Lt.replace("{{"+It+"}}",n[It]));Vt=Lt.match(Mt),Vt&&(Lt=17===Vt[0].length?Lt.replace(' checked="checked"'," checked"):Lt.replace(' checked=""',""))}return Lt}function m(t,e,n,o){var i=t.replace("svg:",""),r=xt[i],l=p.call(this,r,n,o);l.match(Rt)||(h(Ft,l),e.parentNode.replaceChild(Ft.firstChild,e))}function v(t,e,o,i,r){var l=void 0,a=void 0;t.match(Ut)&&(l=t.replace(Ut,"$1").trim(),l.match(Gt)?(a=l.replace("model:",""),n.call(this,e,a,o)):l.match(Bt)?s.call(this,l,e):this.IS_SVG&&l.match(qt)&&m.call(this,l,e,i,r))}function y(t,e,n){t.nodeValue=t.nodeValue.replace(RegExp(e,"g"),n)}function g(e,n,o,i,r){var l=e.match(Wt);if(l){for(var a=l.length,c=void 0,s=void 0,u=void 0,d=this,h=r||this,p=0;p<a;){if(c=l[p].replace(Wt,"$1"),s=f.call(h,c),u=At(c))if(i)if("this"===u[0]&&void 0!==d[u[1]]&&"function"==typeof d[u[1]]){var m=d[u[1]](h);e=void 0!==m?m:e}else t(c,o),e=e.replace(l[p],d[u[0]][u[1]]);else if("this"===u[0]&&void 0!==d[u[1]]&&"function"==typeof d[u[1]]){var v=d[u[1]]();void 0!==v&&y(n,"{{"+c+"}}",v)}else t(c,o),y(n,"{{"+c+"}}",d[u[0]][u[1]]);else s?(t(s.state,o),i?e=e.replace(l[p],s.value):(c=c.replace("?","\\?"),y(n,"{{"+c+"}}",s.value))):void 0!==h[c]&&(t(c,o),i?e=e.replace(l[p],h[c]):y(n,"{{"+c+"}}",h[c]));p++}return e}}function b(t,e,n){var o=t.attributes,i=0,r=void 0,l=void 0,a=void 0;for(i=o.length;i--;)r=o[i],a=r.localName,l=r.nodeValue,$t.test(a)?(t.removeAttribute(a),a=g.call(this,a,t,e,!0,n),t.setAttribute(a,l)):$t.test(l)&&(l=g.call(this,l,t,e,!0,n),"checked"===a?""===l?t.removeAttribute(a):t.setAttribute(a,""):""===l?t.setAttribute(a,""):t.setAttribute(a,l))}function w(t,e){for(var n=void 0;e;){if(n=e,e=e.parentNode,n.nodeType===zt&&n.hasAttribute("kdata-id"))return{id:n.getAttribute("kdata-id"),node:n};n.isEqualNode(t)&&(e=null)}}function k(t,e){var n=Object.keys(e)[0],o=e[n];void 0!==this[o]&&"function"==typeof this[o]&&t.addEventListener(n,this[o].bind(this),!!e.useCapture)}function C(t,e,n,o){if(o.stopPropagation(),o.target!==o.currentTarget){var i=w(n,o.target);this[e](t.list[Yt(i.id,t)],o.target,i.node,o)}}function _(t,e){var n=Object.keys(e)[0],o=e[n];if(void 0!==this[o]&&"function"==typeof this[o]){var i=t.firstChild.nodeValue.replace(Jt,"$1").trim();i=i.replace("model:","");t.addEventListener(n,C.bind(this,this[i],o,t),!!e.useCapture)}}function T(t){for(var e=t.attributes,n=0,o=void 0,i=void 0,r=void 0,l=void 0,a=void 0,c=[],s=void 0,u=void 0;n<e.length;)o=e[n],i=o.localName,r=o.nodeValue,/^k-/.test(i)&&(l=i.replace(/^k-/,""),a=r.match(/[a-zA-Z]+(?![^(]*\))/)[0],u=r.match(/\(([^{}]+)\)/),u=u?u[1]:"",s={},s[l]=a,u&&(s[u]=!0),s.isModel=!1,c.push(s),t.hasChildNodes()&&t.firstChild.nodeType!==Xt&&t.firstChild.nodeValue.match(Qt)&&(s.isModel=!0)),n++;return c}function x(t,e,n){for(var o=this;t;)oe=t,t=t.nextSibling,oe.nodeType===Xt?(oe.hasAttributes()&&(b.call(this,oe,e,n),ot(oe.id)||(ee=T.call(this,oe),ee.length&&ee.map(function(t){t.isModel?_.call(o,oe,t):k.call(o,oe,t),oe.removeAttribute("k-"+Object.keys(t)[0])}))),x.call(this,oe.firstChild,e,n)):oe.nodeType===te&&oe.nodeValue.match(Ht)?(ne=oe.nodeValue.trim().match(Kt),ne=ne&&ne[0],this[ne]&&r.call(this,oe,ne,"conditional-set",S,e)):oe.nodeType===te&&oe.nodeValue.match(Zt)&&!oe.nodeValue.match(Ht)?v.call(this,oe.nodeValue,oe,S,n,e):g.call(this,oe.nodeValue,oe,e,null,n)}function S(){x.apply(this,arguments)}function N(t){for(;t;)ae=t,t=t.nextSibling,ae.nodeType===re?N.call(this,ae.firstChild):ae.nodeType===le&&ae.nodeValue.match(ie)&&ae.remove()}function E(){N.apply(this,arguments)}function A(t,e){return R(t,e)||M(t,e)||t.isEqualNode(e)}function M(t,e){return L(t)&&L(e)}function L(t){return null!=t.getAttribute("data-ignore")}function I(t,e){"INPUT"===t.nodeName&&t.checked!==e.checked&&(t.checked=e.checked)}function O(t,e){for(var n=e.attributes,o={},i=0;i<n.length;)o[n[i].name]=n[i].value,i++;for(var r=t.attributes,l={},a=0;a<r.length;)l[r[a].name]=r[a].value,a++;for(var c in o)t.attributes[c]&&t.attributes[c].name===c&&t.attributes[c].value!==o[c]?t.setAttribute(c,o[c]):t.hasAttribute(c)||/^k-/.test(c)||t.setAttribute(c,o[c]);for(var s in l)e.attributes[s]&&t.attributes[s]||t.removeAttribute(s)}function D(t,e){if(t.nodeType===e.nodeType)if(t.nodeType===ce){if(I(t,e),A(t,e))return;t.nodeName===e.nodeName?(O(t,e),P(t.firstChild,e.firstChild,t)):t.parentNode.replaceChild(e,t)}else t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue);else t.parentNode.replaceChild(e,t)}function j(t,e){return t.length-e-1}function V(t,e,n){for(var o=void 0;t>0;)t--,o=j(n,t),e.appendChild(n[o])}function P(t,e,n){for(var o=0,i=[];e;)o++,se=e,e=e.nextSibling,i.push(se);var r=void 0;if(t)for(;t;)o--,ue=t,t=t.nextSibling,r=j(i,o),ue&&i[r]?D(ue,i[r]):ue&&!i[r]&&n.removeChild(ue),null===t&&V(o,n,i);else V(o,n,i)}function R(t,e){return t&&O(t,e),e.hasAttribute("pristine-model")}function F(t){var e=ot(this.el);e&&!this.IS_STUB?P(e.firstChild,t,e):e&&!R(null,t)&&P(e.firstChild,t.firstChild,e)}function U(){ye[this.ID]&&(ye[this.ID]=[])}function G(t){ye[this.ID]=ye[this.ID]||[],ye[this.ID].indexOf(t)===-1&&(ye[this.ID]=ye[this.ID].concat(t))}function B(t){a.call(this,G.bind(this)),S.call(this,this.base.firstChild,G.bind(this)),E.call(this,this.base.firstChild);var e=t||ot(this.el);e?(e.nodeType===be?e.setAttribute("data-ignore",""):(it(1===this.base.childNodes.length,"Sub-component should only has a single rootNode."),!this.base.firstChild.hasAttribute("data-ignore")&&this.base.firstChild.setAttribute("data-ignore","")),ve.call(this),t||e.appendChild(this.base),this.componentDidMount&&"function"==typeof this.componentDidMount&&this.componentDidMount()):it(!1,'No element id: "'+this.el+'" exist or is this a child component?')}function q(t){var e=void 0,n=document.createDocumentFragment();return U.call(this),"string"==typeof t?(e=t.trim().replace(/\s+/g," "),e=u.call(this,e),h(n,e)):"object"===(void 0===t?"undefined":W(t))&&t.nodeType?t.nodeType===Se?n.appendChild(t):t.nodeType===Te?n=t:t.nodeType===xe?n.appendChild(t):it(!1,"Unable to parse instance, unknown type."):it(!1,"Parameter is not a string or a html element."),this.__pristineFragment__=n.cloneNode(!0),this.base=n,this}var W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function o(i,r){try{var l=e[i](r),a=l.value}catch(t){return void n(t)}return l.done?void t(a):Promise.resolve(a).then(function(t){o("next",t)},function(t){o("throw",t)})}return o("next")})}},z=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Y=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},K=function(t,e){return t.raw=e,t};!function(t){function e(t,e,n,i){var r=e&&e.prototype instanceof o?e:o,l=Object.create(r.prototype);return l._invoke=c(t,n,new h(i||[])),l}function n(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function r(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function a(t){function e(o,i,r,l){var a=n(t[o],t,i);if("throw"!==a.type){var c=a.arg,s=c.value;return s&&"object"===(m===s?"undefined":W(s))&&y.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,r,l)},function(t){e("throw",t,r,l)}):Promise.resolve(s).then(function(t){c.value=t,r(c)},l)}l(a.arg)}function o(t,n){function o(){return new Promise(function(o,i){e(t,n,o,i)})}return i=i?i.then(o,o):o()}var i;this._invoke=o}function c(t,e,o){var i=T;return function(r,l){if(i===S)throw Error("Generator is already running");if(i===N){if("throw"===r)throw l;return p()}for(o.method=r,o.arg=l;;){var a=o.delegate;if(a){var c=s(a,o);if(c){if(c===E)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===T)throw i=N,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=S;var u=n(t,e,o);if("normal"===u.type){if(i=o.done?N:x,u.arg===E)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(i=N,o.method="throw",o.arg=u.arg)}}}function s(t,e){var o=t.iterator[e.method];if(o===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,s(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var i=n(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,E;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,E):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function u(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(u,this),this.reset(!0)}function f(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return o.next=o}}return{next:p}}function p(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},b=g.iterator||"@@iterator",w=g.asyncIterator||"@@asyncIterator",k=g.toStringTag||"@@toStringTag",C="object"===("undefined"==typeof module?"undefined":W(module)),_=t.regeneratorRuntime;if(_)return C&&(module.exports=_),m;_=t.regeneratorRuntime=C?module.exports:{},_.wrap=e;var T="suspendedStart",x="suspendedYield",S="executing",N="completed",E={},A={};A[b]=function(){return this};var M=Object.getPrototypeOf,L=M&&M(M(f([])));L&&L!==v&&y.call(L,b)&&(A=L);var I=r.prototype=o.prototype=Object.create(A);i.prototype=I.constructor=r,r.constructor=i,r[k]=i.displayName="GeneratorFunction",_.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},_.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,k in t||(t[k]="GeneratorFunction")),t.prototype=Object.create(I),t},_.awrap=function(t){return{__await:t}},l(a.prototype),a.prototype[w]=function(){return this},_.AsyncIterator=a,_.async=function(t,n,o,i){var r=new a(e(t,n,o,i));return _.isGeneratorFunction(n)?r:r.next().then(function(t){return t.done?t.value:r.next()})},l(I),I[k]="Generator",I[b]=function(){return this},I.toString=function(){return"[object Generator]"},_.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},_.values=f,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,o){return r.type="throw",r.arg=t,n.next=e,o&&(n.method="next",n.arg=m),!!o}if(this.done)throw t;for(var n=this,o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],r=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var l=y.call(i,"catchLoc"),a=y.call(i,"finallyLoc");if(l&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&y.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,E):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),d(n),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;d(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:f(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),E}}}(function(){return this}()||Function("return this")());var Z,Q,X,tt,et=function(){var t=function(){return(1*Math.random()*1e17).toString(36)};return"KDATA-"+t()+"-"+t()},nt=function(){return(1*Math.random()*1e17).toString(36)},ot=function(t){return document.getElementById(t)},it=function(t,e){if(!t)throw Error("(keet) "+e)},rt=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.shift(),i=e.slice(),r=o.raw.reduce(function(t,e,n){return t+i[n-1]+e});return r=r.split(/\n+/),r=r.map(function(t){return t.trim()}).join("")},lt=function(){return function(t){t.IS_STUB=!0}},at=11,ct={},st=/\{\{\/([^{}]+)\}\}/g,ut=/\{\{model:([^{}]+)\}\}/g,dt=/([^{{model:])(.*?)(?=\}\})/g,ht=1,ft=8,pt={},mt=1,vt=8,yt=/\{\{\?([^{}]+)\}\}/g,gt=/([^{?])(.*?)(?=\}\})/g,bt=void 0,wt=void 0,kt=void 0,Ct=void 0,_t={},Tt=/(<svg)([^<]*|[^>]*)(.*?)(?=<\/svg>)/g,xt={},St=3,Nt=1,Et=function(t){return"''"===t||'""'===t||"null"===t?"":t},At=function(t){var e=t.match(/\.*\./g);return e&&e.length>0?t.split("."):void 0},Mt=RegExp(/(\schecked=")(.*?)(?=")/g),Lt="",It=void 0,Ot=void 0,Dt=void 0,jt=void 0,Vt=void 0,Pt=void 0,Rt=/{{([^{}]+)}}/g,Ft=document.createDocumentFragment(),Ut=/{{([^{}]+)}}/g,Gt=/^model:/g,Bt=/^component:([^{}]+)/g,qt=/^svg:([^{}]+)/g,Wt=/{{([^{}]+)}}/g,$t=/{{([^{}]+)}}/g,zt=1,Jt=/{{([^{}]+)}}/g,Yt=function(t,e){return e.list.map(function(t){return t["kdata-id"]}).indexOf(t)},Ht=/\{\{\?([^{}]+)\}\}/g,Kt=/([^{?])(.*?)(?=\}\})/g,Zt=/{{([^{}]+)}}/g,Qt=/\{\{model:([^{}]+)\}\}/g,Xt=1,te=8,ee=void 0,ne=void 0,oe=void 0,ie=/{{([^{}]+)}}/g,re=1,le=8,ae=void 0,ce=1,se=void 0,ue=void 0,de=0,he=function(){ge.call(this),this.componentDidUpdate&&"function"==typeof this.componentDidUpdate&&this.componentDidUpdate()},fe={},pe=function(t,e){var n=this;fe[this.ID]=fe[this.ID]||null,clearTimeout(fe[this.ID]),fe[this.ID]=setTimeout(function(){return t.call(n)},e)},me=function t(e){var n=this,o=void 0,i=void 0;if(ye[this.ID]&&e<ye[this.ID].length){if(o=ye[this.ID][e],i=this[o],void 0===i&&(i=At(o)),i&&Array.isArray(i)){var r=this[i[0]][i[1]];Object.defineProperty(this[i[0]],i[1],{enumerable:!1,configurable:!0,get:function(){return r},set:function(t){r=t,pe.call(n,he,de)}})}else Object.defineProperty(this,o,{enumerable:!1,configurable:!0,get:function(){return i},set:function(t){i=t,pe.call(n,he,de)}});e++,t.call(this,e)}},ve=function(){me.call(this,0)},ye={},ge=function(){this.base=this.__pristineFragment__.cloneNode(!0),S.call(this,this.base.firstChild,G.bind(this)),E.call(this,this.base.firstChild),F.call(this,this.base.firstChild)},be=1,we=function(t,e){return t["kdata-id"]!==e["kdata-id"]},ke={},Ce=function(){for(var t=this,e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];ke[this.mId]&&clearTimeout(ke[this.mId]),ke[this.mId]=setTimeout(function(){return t.exec&&"function"==typeof t.exec&&t.exec.apply(null,n)},0)},_e=function(){function t(e){this.mId=t.genIdentity,ke[this.mId]=null,this.enableFiltering=e||null,this.model=[],Object.defineProperty(this,"list",{enumerable:!1,configurable:!0,get:function(){return this.model},set:function(t){this.model=t,this.dirty=!0,Ce.call(this,this.model,this.listFilter)}}),Object.defineProperty(this,"listFilter",{enumerable:!1,configurable:!0,get:function(){var t=this;return this.prop?this.model.filter(function(e){return e[t.prop]===t.value}):this.model}})}return t.prototype.subscribe=function(t){this.exec=t},t.prototype.add=function(t){this.list=this.list.concat(J({},t,{"kdata-id":nt()}))},t.prototype.update=function(t){this.list=this.list.map(function(e){return we(e,t)?e:t})},t.prototype.filter=function(t,e){this.prop=t,this.value=e,this.list=this.list},t.prototype.destroy=function(t){this.list=this.list.filter(function(e){return we(e,t)})},z(t,null,[{key:"genIdentity",get:function(){return nt()}}]),t}(),Te=11,xe=3,Se=1,Ne=function(){function t(e){e&&(this.LOCAL=!0),this.ID=t.indentity,this.autoRender()}return t.prototype.autoRender=function(){function t(){return e.apply(this,arguments)}var e=$(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.el;case 2:if("function"!=typeof this.render){t.next=9;break}if(e=this.render(),this.mount(e),n=Object.getPrototypeOf(this),!(this.IS_STUB||n&&n.constructor.IS_STUB)){t.next=8;break}return t.abrupt("return");case 8:this.cycleVirtualDomTree();case 9:case"end":return t.stop()}},t,this)}));return t}(),t.prototype.mount=function(t){return this.LOCAL||(this.el?this.storeRef(this.el):it(!1,"Component has no unique identifier.")),q.call(this,t)},t.prototype.cycleVirtualDomTree=function(t){this.componentWillMount&&"function"==typeof this.componentWillMount&&this.componentWillMount(),t&&(this.IS_STUB=!0),B.call(this,t)},t.prototype.callBatchPoolUpdate=function(){pe.call(this,he,1)},t.prototype.subscribe=function(t){this.exec=this.exec||[],this.exec=this.exec.concat(t)},t.prototype.inform=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.exec.length&&this.exec.map(function(t){return t.apply(null,e)})},t.prototype.storeRef=function(t){window.__keetGlobalComponentRef__=window.__keetGlobalComponentRef__||[],~window.__keetGlobalComponentRef__.map(function(t){return t.identifier}).indexOf(t)?it(!1,"The component name: "+t+" already exist in the global pool."):window.__keetGlobalComponentRef__=window.__keetGlobalComponentRef__.concat({identifier:t,component:this})},z(t,null,[{key:"indentity",get:function(){return et()}}]),t}(),Ee=function(t){function e(){return H(this,t.apply(this,arguments))}return Y(e,t),e.prototype.clearCompleted=function(){this.list=this.list.filter(function(t){return!t.completed})},e.prototype.updateAll=function(t){this.list=this.list.map(function(e){return J({},e,{completed:t})})},e}(_e),Ae=K(['\n      <ul id="todoList" class="todo-list" k-click="evtTodo()" k-dblclick="editTodo()" k-keydown="keyTodo()" k-blur="blurTodo(useCapture)">\n        <!-- {{model:todoModel}} -->\n          <li class="{{this.activeClass}}">\n            <div class="view">\n              <input class="toggle" type="checkbox" checked="{{completed?checked:\'\'}}">\n              <label>{{title}}</label>\n              <button class="destroy"></button>\n            </div>\n            <input class="edit" value="{{title}}">\n          </li>\n        <!-- {{/model:todoModel}} -->\n      </ul>\n    '],['\n      <ul id="todoList" class="todo-list" k-click="evtTodo()" k-dblclick="editTodo()" k-keydown="keyTodo()" k-blur="blurTodo(useCapture)">\n        <!-- {{model:todoModel}} -->\n          <li class="{{this.activeClass}}">\n            <div class="view">\n              <input class="toggle" type="checkbox" checked="{{completed?checked:\'\'}}">\n              <label>{{title}}</label>\n              <button class="destroy"></button>\n            </div>\n            <input class="edit" value="{{title}}">\n          </li>\n        <!-- {{/model:todoModel}} -->\n      </ul>\n    ']),Me=13,Le=27,Ie=(Z=lt(),Z(Q=function(t){function e(){for(var e,n,o,i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=n=H(this,t.call.apply(t,[this].concat(r))),n.el="todoList",n.todoModel=new Ee("filter"),o=e,H(n,o)}return Y(e,t),e.prototype.activeClass=function(t){if(t){var e=[];return t.completed&&(e=e.concat("completed")),t.editing&&(e=e.concat("editing")),e.join(" ")}},e.prototype.addTodo=function(t){this.todoModel.add(t)},e.prototype.evtTodo=function(t,e){"toggle"===e.className?this.todoModel.update(J({},t,{completed:!t.completed})):"destroy"===e.className&&this.todoModel.destroy(t)},e.prototype.filterTodo=function(t){"#/all"===t?this.todoModel.filter(null):"#/active"===t?this.todoModel.filter("completed",!1):"#/completed"===t&&this.todoModel.filter("completed",!0)},e.prototype.saveEditing=function(t,e){""===e?this.todoModel.destroy(t):this.todoModel.update(J({},t,{title:e,editing:!1})),this.isEditing=!1,this.tgt=null},e.prototype.focus=function(t,e){t.focus(),t.setSelectionRange(e,e)},e.prototype.editTodo=function(t,e,n){"LABEL"===e.nodeName&&(this.isEditing=!0,this.tgt=n.querySelector(".edit"),this.todoModel.update(J({},t,{editing:!0})))},e.prototype.componentDidUpdate=function(){this.tgt&&this.focus(this.tgt,this.tgt.value.length)},e.prototype.blurTodo=function(t,e){this.isEditing&&this.saveEditing(t,e.value.trim())},e.prototype.keyTodo=function(t,e,n,o){o.which!==Me&&o.which!==Le||(o.which===Me?this.saveEditing(t,e.value.trim()):this.saveEditing(t,t.title))},e.prototype.render=function(){return rt(Ae)},e}(Ne))||Q),Oe=new Ie,De=Oe.todoModel,je=function t(e,n){if(n)return localStorage.setItem(e,JSON.stringify(n));var t=localStorage.getItem(e);return t&&JSON.parse(t)||[]},Ve=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Pe=function(t){function e(){return H(this,t.apply(this,arguments))}return Y(e,t),e.prototype.switch=function(t,e){this.list=this.list.map(function(n){return n.hash===t?J({},n,e):J({},n,{selected:!1})})},e}(_e),Re=K(['\n      <ul id="filters" class="filters">\n        <!-- {{model:filterModel}} -->\n        <li id="{{name}}" k-click="updateUrl()"><a class="{{selected?selected:\'\'}}" href="{{hash}}">{{name}}</a></li>\n        <!-- {{/model:filterModel}} -->\n      </ul>\n    '],['\n      <ul id="filters" class="filters">\n        <!-- {{model:filterModel}} -->\n        <li id="{{name}}" k-click="updateUrl()"><a class="{{selected?selected:\'\'}}" href="{{hash}}">{{name}}</a></li>\n        <!-- {{/model:filterModel}} -->\n      </ul>\n    ']);new(X=lt(),X(tt=function(t){function e(){for(var e,n,o,i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=n=H(this,t.call.apply(t,[this].concat(r))),n.el="filters",n.filterModel=new Pe,o=e,H(n,o)}return Y(e,t),e.prototype.componentWillMount=function(){var t=this;this.filterModel.subscribe(function(){return t.callBatchPoolUpdate()}),""===window.location.hash&&window.history.pushState({},null,"#/all")},e.prototype.componentDidMount=function(){var t=this;this.filterModel.switch(window.location.hash,{selected:!0}),"#/all"!==window.location.hash&&Oe.filterTodo(window.location.hash),window.onpopstate=function(){return t.updateUrl(window.location.hash)}},e.prototype.updateUrl=function(t){this.filterModel.switch(t,{selected:!0}),Oe.filterTodo(t)},e.prototype.render=function(){var t=this;return Array.from(["all","active","completed"]).map(function(e){return t.filterModel.add({hash:"#/"+e,name:Ve(e),selected:!1})}),rt(Re)},e}(Ne))||tt);var Fe=K(['\n      <section class="todoapp">\n        <header id="header">\n          <h1>todos</h1>\n          <input id="new-todo" class="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n        </header>\n        <!-- {{?todoState}} -->\n        <section class="main">\n          <input id="toggle-all" class="toggle-all" type="checkbox" checked="{{isChecked?checked:\'\'}}" k-click="completeAll()">\n          <label for="toggle-all">Mark all as complete</label>\n          <!-- {{component:todoList}} -->\n        </section>\n        <footer class="footer">\n          <span class="todo-count">\n            <strong>{{count}}</strong> item{{plural}} left\n          </span>\n          <!-- {{component:filters}} -->\n          <!-- {{?clearToggle}} -->\n          <button id="clear-completed" k-click="clearCompleted()" class="clear-completed">Clear completed</button>\n          <!-- {{/clearToggle}} -->\n        </footer>\n        <!-- {{/todoState}} -->\n      </section>\n      <footer class="info">\n        <p>Double-click to edit a todo</p>\n        <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n        <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n      </footer>\n    '],['\n      <section class="todoapp">\n        <header id="header">\n          <h1>todos</h1>\n          <input id="new-todo" class="new-todo" k-keydown="create()" placeholder="What needs to be done?" autofocus>\n        </header>\n        <!-- {{?todoState}} -->\n        <section class="main">\n          <input id="toggle-all" class="toggle-all" type="checkbox" checked="{{isChecked?checked:\'\'}}" k-click="completeAll()">\n          <label for="toggle-all">Mark all as complete</label>\n          <!-- {{component:todoList}} -->\n        </section>\n        <footer class="footer">\n          <span class="todo-count">\n            <strong>{{count}}</strong> item{{plural}} left\n          </span>\n          <!-- {{component:filters}} -->\n          <!-- {{?clearToggle}} -->\n          <button id="clear-completed" k-click="clearCompleted()" class="clear-completed">Clear completed</button>\n          <!-- {{/clearToggle}} -->\n        </footer>\n        <!-- {{/todoState}} -->\n      </section>\n      <footer class="info">\n        <p>Double-click to edit a todo</p>\n        <p>Created by <a href="https://github.com/syarul">Shahrul Nizam Selamat</a></p>\n        <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n      </footer>\n    ']),Ue="keetjs";return new(function(t){function e(){for(var e,n,o,i=arguments.length,r=Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=n=H(this,t.call.apply(t,[this].concat(r))),n.el="todo",n.isChecked=!1,n.count=0,n.plural="",n.clearToggle=!1,n.todoState=!1,o=e,H(n,o)}return Y(e,t),e.prototype.componentWillMount=function(){var t=this;De.subscribe(function(e){je(Ue,e);var n=e.filter(function(t){return!t.completed});t.clearToggle=!!e.filter(function(t){return t.completed}).length,t.todoState=!!e.length,t.plural=1===n.length?"":"s",t.count=n.length,t.isChecked=!n.length})},e.prototype.componentDidMount=function(){je(Ue).map(function(t){return De.add(t)})},e.prototype.create=function(t){if(13===t.keyCode){var e=t.target.value.trim();e&&(Oe.addTodo({title:e,completed:!1,editing:!1}),t.target.value="")}},e.prototype.completeAll=function(){this.isChecked=!this.isChecked,De.updateAll(this.isChecked)},e.prototype.clearCompleted=function(){De.clearCompleted()},e.prototype.render=function(){return rt(Fe)},e}(Ne))}();
//# sourceMappingURL=app.js.map